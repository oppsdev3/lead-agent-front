const { spawnPromise, parseOptions } = require('../helpers')
const path = require('path')

module.exports = ({ eslintOptions, extendEslintOptions }) => {
  const params = parseOptions({
    overwriteOptions: eslintOptions,
    extendOptions: extendEslintOptions,
    defaultParams: [
      '--no-eslintrc',
      '--max-warnings',
      '0',
      '--config',
      path.resolve(__dirname, '../configs/eslintrc.js'),
      'src'
    ],
  })

  return spawnPromise({ bin: 'eslint', params })
}
