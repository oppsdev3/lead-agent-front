const { spawnPromise, parseOptions } = require('../helpers')

module.exports = ({ prettierOptions, extendPrettierOptions }) => {
  const params = parseOptions({
    overwriteOptions: prettierOptions,
    extendOptions: extendPrettierOptions,
    defaultParams: [
      '--single-quote',
      '--trailing-comma all',
      '--parser flow',
      '--no-semi',
      '--tab-width=2',
      '--write "{src/**/*.{js,jsx},*.{js,jsx}}"',
    ],
  })

  return spawnPromise({ bin: 'prettier', params })
}
