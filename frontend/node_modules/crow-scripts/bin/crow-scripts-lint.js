#!/usr/bin/env node
const program = require('commander')
const { executeRunners } = require('../helpers')
const { eslint, stylelint, nsp, flow } = require('../runners')

program
  .description('Run lint suit')
  .option('--eslint-options <options>', 'Overwrite eslint options')
  .option('--extend-eslint-options <options>', 'Extend eslint options')
  .option('--nsp-options <options>', 'Overwrite nsp options')
  .option('--extend-nsp-options <options>', 'Extend nsp options')
  .option('--stylelint-options <options>', 'Overwrite stylelint options')
  .option('--extend-stylelint-options <options>', 'Extend stylelint options')
  .option('--flow-options <options>', 'Overwrite flow options')
  .option('--extend-flow-options <options>', 'Extend flow options')
  .parse(process.argv)

const {
  eslintOptions,
  extendEslintOptions,
  stylelintOptions,
  extendStylelintOptions,
  nspOptions,
  extendNspOptions,
  flowOptions,
  extendFlowOptions,
} = program

executeRunners([
  eslint({ eslintOptions, extendEslintOptions }),
  stylelint({ stylelintOptions, extendStylelintOptions }),
  nsp({ nspOptions, extendNspOptions }),
  flow({ flowOptions, extendFlowOptions })
])
