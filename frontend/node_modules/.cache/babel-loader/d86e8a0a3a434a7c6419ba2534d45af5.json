{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MaskingService } from './masking.service';\nimport { defaultRules, maskingChanged, returnFalse } from './utils';\nimport { guid, classNames, getTabIndex, withPropsContext, createPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/** @hidden */\n\nvar MaskedTextBoxWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(MaskedTextBoxWithoutContext, _super);\n\n  function MaskedTextBoxWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this._inputId = \"k-\" + guid();\n    _this._service = new MaskingService();\n    _this._isPasted = false;\n    _this._selection = [null, null];\n    _this._input = null;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n\n    _this.pasteHandler = function (event) {\n      var _a = event.target,\n          selectionStart = _a.selectionStart,\n          selectionEnd = _a.selectionEnd;\n\n      if (selectionEnd === selectionStart) {\n        return;\n      }\n\n      _this._isPasted = true;\n      _this._selection = [selectionStart || 0, selectionEnd || 0];\n    };\n\n    _this.onChangeHandler = function (event) {\n      var input = event.currentTarget;\n      var value = input.value;\n      var start = _this._selection[0] || 0;\n      var end = _this._selection[1] || 0;\n\n      if (!_this.props.mask) {\n        _this._isPasted = false;\n        _this._selection = [null, null];\n\n        _this.triggerOnChange(value, event);\n\n        return;\n      }\n\n      var maskedValue = _this.value;\n      var result;\n\n      if (_this._isPasted) {\n        _this._isPasted = false;\n        var rightPart = maskedValue.length - end;\n        var to = value.length - rightPart;\n        result = _this._service.maskInRange(value.slice(start, to), maskedValue, start, end);\n      } else {\n        result = _this._service.maskInput(value, maskedValue, input.selectionStart || 0);\n      }\n\n      _this._selection = [result.selection, result.selection];\n\n      _this.triggerOnChange(result.value, event);\n    };\n\n    _this.focusHandler = function (event) {\n      if (!_this.state.focused) {\n        _this.setState({\n          focused: true\n        });\n\n        if (_this.props.onFocus) {\n          _this.props.onFocus.call(undefined, {\n            target: _this,\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent\n          });\n        }\n      }\n    };\n\n    _this.blurHandler = function (event) {\n      if (_this.state.focused) {\n        _this.setState({\n          focused: false\n        });\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur.call(undefined, {\n            target: _this,\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent\n          });\n        }\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this.element) {\n        _this.element.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || '');\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"element\", {\n    /**\n     * Gets the element of the MaskedTextBox.\n     *\n     * @return - An `HTMLInputElement`.\n     *\n     * @example\n     * ```jsx\n     * class App extends React.Component {\n     *     constructor(props) {\n     *         super(props);\n     *     }\n     *     element = null;\n     *     render() {\n     *         return (\n     *             <div>\n     *                 <MaskedTextBox\n     *                     ref={(component) =>\n     *                         this.element = component ? component.element : null}\n     *                 />\n     *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n     *             </div>\n     *         );\n     *     }\n     * }\n     *\n     * ReactDOM.render(\n     *     <App />,\n     *     document.getElementsByTagName('my-app')[0]\n     * );\n     * ```\n     */\n    get: function () {\n      return this._input;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"value\", {\n    /**\n     * Gets the value with the mask of the MaskedTextBox.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return '';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rawValue\", {\n    /**\n     * Gets the raw value without the mask of the MaskedTextBox.\n     */\n    get: function () {\n      return this._service.rawValue(this.value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the MaskedTextBox is set.\n     */\n    get: function () {\n      var maskedValue = this.value;\n\n      var value = this._service.validationValue(maskedValue);\n\n      var customError = this.props.validationMessage !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : (!this.required || !!value) && (!this.props.maskValidation || !this.props.prompt || maskedValue.indexOf(this.props.prompt) === -1);\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: !value\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validityStyles\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : MaskedTextBoxWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : MaskedTextBoxWithoutContext.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the MaskedTextBox.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (this.element && this.state.focused && prevState.focused) {\n      var _a = this._selection,\n          start = _a[0],\n          end = _a[1];\n      var prevSelection = prevProps.selection;\n      var nextSelection = this.props.selection;\n\n      if (!prevSelection && nextSelection || prevSelection && nextSelection && (prevSelection.start !== nextSelection.start || prevSelection.end !== nextSelection.end)) {\n        start = nextSelection.start;\n        end = nextSelection.end;\n      }\n\n      if (start !== null && end !== null) {\n        this.element.setSelectionRange(start, end);\n      }\n    }\n\n    if (maskingChanged(prevProps, this.props)) {\n      this.updateService();\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MaskedTextBoxWithoutContext.prototype.componentDidMount = function () {\n    this.updateService();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MaskedTextBoxWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var _a;\n\n    var _b = this.props,\n        _c = _b.size,\n        size = _c === void 0 ? MaskedTextBoxWithoutContext.defaultProps.size : _c,\n        _d = _b.fillMode,\n        fillMode = _d === void 0 ? MaskedTextBoxWithoutContext.defaultProps.fillMode : _d,\n        _e = _b.rounded,\n        rounded = _e === void 0 ? MaskedTextBoxWithoutContext.defaultProps.rounded : _e;\n    var inputId = this.props.id || this._inputId;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var style = this.props.style || {};\n    var component = React.createElement(\"span\", {\n      dir: this.props.dir,\n      className: classNames('k-maskedtextbox k-input', (_a = {}, _a[\"k-input-\" + (kendoThemeMaps.sizeMap[size] || size)] = size, _a[\"k-input-\" + fillMode] = fillMode, _a[\"k-rounded-\" + (kendoThemeMaps.roundedMap[rounded] || rounded)] = rounded, _a['k-valid'] = isValid, _a['k-invalid'] = !isValid, _a['k-required'] = this.required, _a['k-disabled'] = this.props.disabled, _a), this.props.className),\n      style: !this.props.label ? __assign({\n        width: this.props.width\n      }, style) : style\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      autoCapitalize: \"off\",\n      spellCheck: false,\n      className: \"k-input k-input-inner\",\n      value: this.value,\n      id: inputId,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      name: this.props.name,\n      tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, true),\n      accessKey: this.props.accessKey,\n      title: this.props.title,\n      disabled: this.props.disabled || undefined,\n      readOnly: this.props.readonly || undefined,\n      placeholder: this.props.placeholder,\n      ref: function (input) {\n        return _this._input = input;\n      },\n      onChange: this.onChangeHandler,\n      onPaste: this.pasteHandler,\n      onFocus: this.focusHandler,\n      onBlur: this.blurHandler,\n      onDragStart: returnFalse,\n      onDrop: returnFalse\n    }));\n    return this.props.label ? React.createElement(FloatingLabel, {\n      label: this.props.label,\n      editorId: inputId,\n      editorValue: this.value,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      editorPlaceholder: this.props.placeholder,\n      children: component,\n      style: {\n        width: this.props.width\n      },\n      dir: this.props.dir\n    }) : component;\n  };\n\n  MaskedTextBoxWithoutContext.prototype.triggerOnChange = function (maskedValue, event) {\n    this.setState({\n      value: maskedValue\n    });\n\n    if (this.props.onChange) {\n      this._valueDuringOnChange = maskedValue;\n      this.props.onChange.call(undefined, {\n        syntheticEvent: event,\n        nativeEvent: event.nativeEvent,\n        selectionStart: this._selection[0],\n        selectionEnd: this._selection[1],\n        target: this,\n        value: this.value\n      });\n      this._valueDuringOnChange = undefined;\n    }\n  };\n\n  MaskedTextBoxWithoutContext.prototype.updateService = function (extra) {\n    var config = Object.assign({\n      includeLiterals: this.props.includeLiterals,\n      mask: this.props.mask,\n      prompt: this.props.prompt,\n      promptPlaceholder: this.props.promptPlaceholder,\n      rules: this.rules\n    }, extra); // tslint:disable-line:align\n\n    this._service.update(config);\n  };\n\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rules\", {\n    get: function () {\n      return Object.assign({}, defaultRules, this.props.rules);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MaskedTextBoxWithoutContext.displayName = 'MaskedTextBox';\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.propTypes = {\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    placeholder: PropTypes.string,\n    title: PropTypes.string,\n    dir: PropTypes.string,\n    id: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    prompt: PropTypes.string,\n    promptPlaceholder: PropTypes.string,\n    includeLiterals: PropTypes.bool,\n    maskValidation: PropTypes.bool,\n    mask: PropTypes.string,\n    rules: function (props, propName, componentName) {\n      var rules = props.rules;\n\n      if (rules !== undefined) {\n        var valid = Object.entries(rules).some(function (e) {\n          return typeof e !== 'string' || !(rules[e] instanceof RegExp);\n        });\n\n        if (!valid) {\n          return new Error('Invalid prop `' + propName + '` supplied to' + ' `' + componentName + '`. Validation failed.');\n        }\n      }\n\n      return null;\n    },\n    selection: PropTypes.shape({\n      start: PropTypes.number.isRequired,\n      end: PropTypes.number.isRequired\n    }),\n    name: PropTypes.string,\n    label: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    valid: PropTypes.bool,\n    validityStyles: PropTypes.bool,\n    onChange: PropTypes.func,\n    size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n    rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n    fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline'])\n  };\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.defaultProps = {\n    prompt: '_',\n    promptPlaceholder: ' ',\n    includeLiterals: false,\n    maskValidation: true,\n    rules: defaultRules,\n    required: false,\n    validityStyles: true,\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid'\n  };\n  return MaskedTextBoxWithoutContext;\n}(React.Component);\n\nexport { MaskedTextBoxWithoutContext };\n/**\n * Represents the PropsContext of the `MaskedTextBox` component.\n * Used for global configuration of all `MaskedTextBox` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\nexport var MaskedTextBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the props of the [KendoReact MaskedTextBox component]({% slug overview_maskedtextbox %}).\n *\n * Accepts properties of type [MaskedTextBoxProps]({% slug api_inputs_maskedtextboxprops %}).\n * Obtaining the `ref` returns an object of type [MaskedTextBoxHandle]({% slug api_inputs_maskedtextboxhandle %}).\n */\n\nexport var MaskedTextBox = withPropsContext(MaskedTextBoxPropsContext, MaskedTextBoxWithoutContext);\nMaskedTextBox.displayName = 'KendoReactMaskedTextBox';","map":{"version":3,"sources":["C:/Users/Admin/LeadManagement/frontend/node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/MaskedTextBox.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","MaskingService","defaultRules","maskingChanged","returnFalse","guid","classNames","getTabIndex","withPropsContext","createPropsContext","kendoThemeMaps","FloatingLabel","validatePackage","packageMetadata","MaskedTextBoxWithoutContext","_super","props","_this","state","_inputId","_service","_isPasted","_selection","_input","focus","pasteHandler","event","_a","target","selectionStart","selectionEnd","onChangeHandler","input","currentTarget","value","start","end","mask","triggerOnChange","maskedValue","result","rightPart","to","maskInRange","slice","maskInput","selection","focusHandler","focused","setState","onFocus","undefined","syntheticEvent","nativeEvent","blurHandler","onBlur","setValidity","element","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","_valueDuringOnChange","defaultValue","rawValue","validationValue","customError","required","maskValidation","prompt","indexOf","valueMissing","validityStyles","defaultProps","name","componentDidUpdate","prevProps","prevState","prevSelection","nextSelection","setSelectionRange","updateService","componentDidMount","render","_b","_c","size","_d","fillMode","_e","rounded","inputId","id","isValid","style","component","createElement","dir","className","sizeMap","roundedMap","disabled","label","width","type","autoComplete","autoCorrect","autoCapitalize","spellCheck","ariaLabelledBy","ariaDescribedBy","tabIndex","accessKey","title","readOnly","readonly","placeholder","ref","onChange","onPaste","onDragStart","onDrop","editorId","editorValue","editorValid","editorDisabled","editorPlaceholder","children","extra","config","includeLiterals","promptPlaceholder","rules","update","displayName","propTypes","string","object","oneOfType","number","bool","propName","componentName","entries","some","e","RegExp","Error","shape","isRequired","func","oneOf","Component","MaskedTextBoxPropsContext","MaskedTextBox"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGV,MAAM,CAACW,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIV,CAAT,IAAcS,CAAd,EAAiB,IAAIb,MAAM,CAACQ,SAAP,CAAiBH,cAAjB,CAAgCa,IAAhC,CAAqCL,CAArC,EAAwCT,CAAxC,CAAJ,EACbQ,CAAC,CAACR,CAAD,CAAD,GAAOS,CAAC,CAACT,CAAD,CAAR;AACP;;AACD,WAAOQ,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;AACH,CAVD;;AAWA,OAAO,KAAKI,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,YAAT,EAAuBC,cAAvB,EAAuCC,WAAvC,QAA0D,SAA1D;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,WAA3B,EAAwCC,gBAAxC,EAA0DC,kBAA1D,EAA8EC,cAA9E,QAAoG,8BAApG;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,SAASC,eAAT,QAAgC,8BAAhC;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA;;AACA,IAAIC,2BAA2B;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC/DxC,EAAAA,SAAS,CAACuC,2BAAD,EAA8BC,MAA9B,CAAT;;AACA,WAASD,2BAAT,CAAqCE,KAArC,EAA4C;AACxC,QAAIC,KAAK,GAAGF,MAAM,CAAClB,IAAP,CAAY,IAAZ,EAAkBmB,KAAlB,KAA4B,IAAxC;AACA;AACR;AACA;;;AACQC,IAAAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACAD,IAAAA,KAAK,CAACE,QAAN,GAAiB,OAAOd,IAAI,EAA5B;AACAY,IAAAA,KAAK,CAACG,QAAN,GAAiB,IAAInB,cAAJ,EAAjB;AACAgB,IAAAA,KAAK,CAACI,SAAN,GAAkB,KAAlB;AACAJ,IAAAA,KAAK,CAACK,UAAN,GAAmB,CAAC,IAAD,EAAO,IAAP,CAAnB;AACAL,IAAAA,KAAK,CAACM,MAAN,GAAe,IAAf;AACA;AACR;AACA;;AACQN,IAAAA,KAAK,CAACO,KAAN,GAAc,YAAY;AACtB,UAAIP,KAAK,CAACM,MAAV,EAAkB;AACdN,QAAAA,KAAK,CAACM,MAAN,CAAaC,KAAb;AACH;AACJ,KAJD;;AAKAP,IAAAA,KAAK,CAACQ,YAAN,GAAqB,UAAUC,KAAV,EAAiB;AAClC,UAAIC,EAAE,GAAGD,KAAK,CAACE,MAAf;AAAA,UAAuBC,cAAc,GAAGF,EAAE,CAACE,cAA3C;AAAA,UAA2DC,YAAY,GAAGH,EAAE,CAACG,YAA7E;;AACA,UAAIA,YAAY,KAAKD,cAArB,EAAqC;AACjC;AACH;;AACDZ,MAAAA,KAAK,CAACI,SAAN,GAAkB,IAAlB;AACAJ,MAAAA,KAAK,CAACK,UAAN,GAAmB,CAACO,cAAc,IAAI,CAAnB,EAAsBC,YAAY,IAAI,CAAtC,CAAnB;AACH,KAPD;;AAQAb,IAAAA,KAAK,CAACc,eAAN,GAAwB,UAAUL,KAAV,EAAiB;AACrC,UAAIM,KAAK,GAAGN,KAAK,CAACO,aAAlB;AACA,UAAIC,KAAK,GAAGF,KAAK,CAACE,KAAlB;AACA,UAAIC,KAAK,GAAGlB,KAAK,CAACK,UAAN,CAAiB,CAAjB,KAAuB,CAAnC;AACA,UAAIc,GAAG,GAAGnB,KAAK,CAACK,UAAN,CAAiB,CAAjB,KAAuB,CAAjC;;AACA,UAAI,CAACL,KAAK,CAACD,KAAN,CAAYqB,IAAjB,EAAuB;AACnBpB,QAAAA,KAAK,CAACI,SAAN,GAAkB,KAAlB;AACAJ,QAAAA,KAAK,CAACK,UAAN,GAAmB,CAAC,IAAD,EAAO,IAAP,CAAnB;;AACAL,QAAAA,KAAK,CAACqB,eAAN,CAAsBJ,KAAtB,EAA6BR,KAA7B;;AACA;AACH;;AACD,UAAIa,WAAW,GAAGtB,KAAK,CAACiB,KAAxB;AACA,UAAIM,MAAJ;;AACA,UAAIvB,KAAK,CAACI,SAAV,EAAqB;AACjBJ,QAAAA,KAAK,CAACI,SAAN,GAAkB,KAAlB;AACA,YAAIoB,SAAS,GAAGF,WAAW,CAAC3C,MAAZ,GAAqBwC,GAArC;AACA,YAAIM,EAAE,GAAGR,KAAK,CAACtC,MAAN,GAAe6C,SAAxB;AACAD,QAAAA,MAAM,GAAGvB,KAAK,CAACG,QAAN,CAAeuB,WAAf,CAA2BT,KAAK,CAACU,KAAN,CAAYT,KAAZ,EAAmBO,EAAnB,CAA3B,EAAmDH,WAAnD,EAAgEJ,KAAhE,EAAuEC,GAAvE,CAAT;AACH,OALD,MAMK;AACDI,QAAAA,MAAM,GAAGvB,KAAK,CAACG,QAAN,CAAeyB,SAAf,CAAyBX,KAAzB,EAAgCK,WAAhC,EAA6CP,KAAK,CAACH,cAAN,IAAwB,CAArE,CAAT;AACH;;AACDZ,MAAAA,KAAK,CAACK,UAAN,GAAmB,CAACkB,MAAM,CAACM,SAAR,EAAmBN,MAAM,CAACM,SAA1B,CAAnB;;AACA7B,MAAAA,KAAK,CAACqB,eAAN,CAAsBE,MAAM,CAACN,KAA7B,EAAoCR,KAApC;AACH,KAxBD;;AAyBAT,IAAAA,KAAK,CAAC8B,YAAN,GAAqB,UAAUrB,KAAV,EAAiB;AAClC,UAAI,CAACT,KAAK,CAACC,KAAN,CAAY8B,OAAjB,EAA0B;AACtB/B,QAAAA,KAAK,CAACgC,QAAN,CAAe;AAAED,UAAAA,OAAO,EAAE;AAAX,SAAf;;AACA,YAAI/B,KAAK,CAACD,KAAN,CAAYkC,OAAhB,EAAyB;AACrBjC,UAAAA,KAAK,CAACD,KAAN,CAAYkC,OAAZ,CAAoBrD,IAApB,CAAyBsD,SAAzB,EAAoC;AAChCvB,YAAAA,MAAM,EAAEX,KADwB;AAEhCmC,YAAAA,cAAc,EAAE1B,KAFgB;AAGhC2B,YAAAA,WAAW,EAAE3B,KAAK,CAAC2B;AAHa,WAApC;AAKH;AACJ;AACJ,KAXD;;AAYApC,IAAAA,KAAK,CAACqC,WAAN,GAAoB,UAAU5B,KAAV,EAAiB;AACjC,UAAIT,KAAK,CAACC,KAAN,CAAY8B,OAAhB,EAAyB;AACrB/B,QAAAA,KAAK,CAACgC,QAAN,CAAe;AAAED,UAAAA,OAAO,EAAE;AAAX,SAAf;;AACA,YAAI/B,KAAK,CAACD,KAAN,CAAYuC,MAAhB,EAAwB;AACpBtC,UAAAA,KAAK,CAACD,KAAN,CAAYuC,MAAZ,CAAmB1D,IAAnB,CAAwBsD,SAAxB,EAAmC;AAC/BvB,YAAAA,MAAM,EAAEX,KADuB;AAE/BmC,YAAAA,cAAc,EAAE1B,KAFe;AAG/B2B,YAAAA,WAAW,EAAE3B,KAAK,CAAC2B;AAHY,WAAnC;AAKH;AACJ;AACJ,KAXD;;AAYApC,IAAAA,KAAK,CAACuC,WAAN,GAAoB,YAAY;AAC5B,UAAIvC,KAAK,CAACwC,OAAV,EAAmB;AACfxC,QAAAA,KAAK,CAACwC,OAAN,CAAcC,iBAAd,CAAgCzC,KAAK,CAAC0C,QAAN,CAAeC,KAAf,GAC1B,EAD0B,GAE1B3C,KAAK,CAACD,KAAN,CAAY6C,iBAAZ,IAAiC,EAFvC;AAGH;AACJ,KAND;;AAOAjD,IAAAA,eAAe,CAACC,eAAD,CAAf;AACA,WAAOI,KAAP;AACH;;AACDtC,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,SAA7D,EAAwE;AACpE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKxC,MAAZ;AACH,KAlCmE;AAmCpEyC,IAAAA,UAAU,EAAE,IAnCwD;AAoCpEC,IAAAA,YAAY,EAAE;AApCsD,GAAxE;AAsCAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,OAA7D,EAAsE;AAClE;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,UAAI,KAAKG,oBAAL,KAA8Bf,SAAlC,EAA6C;AACzC,eAAO,KAAKe,oBAAZ;AACH,OAFD,MAGK,IAAI,KAAKlD,KAAL,CAAWkB,KAAX,KAAqBiB,SAAzB,EAAoC;AACrC,eAAO,KAAKnC,KAAL,CAAWkB,KAAlB;AACH,OAFI,MAGA,IAAI,KAAKhB,KAAL,CAAWgB,KAAX,KAAqBiB,SAAzB,EAAoC;AACrC,eAAO,KAAKjC,KAAL,CAAWgB,KAAlB;AACH,OAFI,MAGA,IAAI,KAAKlB,KAAL,CAAWmD,YAAX,KAA4BhB,SAAhC,EAA2C;AAC5C,eAAO,KAAKnC,KAAL,CAAWmD,YAAlB;AACH;;AACD,aAAO,EAAP;AACH,KAlBiE;AAmBlEH,IAAAA,UAAU,EAAE,IAnBsD;AAoBlEC,IAAAA,YAAY,EAAE;AApBoD,GAAtE;AAsBAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,UAA7D,EAAyE;AACrE;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAK3C,QAAL,CAAcgD,QAAd,CAAuB,KAAKlC,KAA5B,CAAP;AACH,KANoE;AAOrE8B,IAAAA,UAAU,EAAE,IAPyD;AAQrEC,IAAAA,YAAY,EAAE;AARuD,GAAzE;AAUAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,UAA7D,EAAyE;AACrE;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,UAAIxB,WAAW,GAAG,KAAKL,KAAvB;;AACA,UAAIA,KAAK,GAAG,KAAKd,QAAL,CAAciD,eAAd,CAA8B9B,WAA9B,CAAZ;;AACA,UAAI+B,WAAW,GAAG,KAAKtD,KAAL,CAAW6C,iBAAX,KAAiCV,SAAnD;AACA,UAAIS,KAAK,GAAI,KAAK5C,KAAL,CAAW4C,KAAX,KAAqBT,SAArB,GACT,KAAKnC,KAAL,CAAW4C,KADF,GACU,CAAE,CAAC,KAAKW,QAAN,IAAkB,CAAC,CAACrC,KAAtB,MAClB,CAAC,KAAKlB,KAAL,CAAWwD,cAAZ,IAA8B,CAAC,KAAKxD,KAAL,CAAWyD,MAA1C,IAAoDlC,WAAW,CAACmC,OAAZ,CAAoB,KAAK1D,KAAL,CAAWyD,MAA/B,MAA2C,CAAC,CAD9E,CADvB;AAGA,aAAO;AACHH,QAAAA,WAAW,EAAEA,WADV;AAEHV,QAAAA,KAAK,EAAEA,KAFJ;AAGHe,QAAAA,YAAY,EAAE,CAACzC;AAHZ,OAAP;AAKH,KAhBoE;AAiBrE8B,IAAAA,UAAU,EAAE,IAjByD;AAkBrEC,IAAAA,YAAY,EAAE;AAlBuD,GAAzE;AAoBAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,gBAA7D,EAA+E;AAC3E;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAK/C,KAAL,CAAW4D,cAAX,KAA8BzB,SAA9B,GACD,KAAKnC,KAAL,CAAW4D,cADV,GAED9D,2BAA2B,CAAC+D,YAA5B,CAAyCD,cAF/C;AAGH,KAR0E;AAS3EZ,IAAAA,UAAU,EAAE,IAT+D;AAU3EC,IAAAA,YAAY,EAAE;AAV6D,GAA/E;AAYAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,UAA7D,EAAyE;AACrE;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAK/C,KAAL,CAAWuD,QAAX,KAAwBpB,SAAxB,GACD,KAAKnC,KAAL,CAAWuD,QADV,GAEDzD,2BAA2B,CAAC+D,YAA5B,CAAyCN,QAF/C;AAGH,KARoE;AASrEP,IAAAA,UAAU,EAAE,IATyD;AAUrEC,IAAAA,YAAY,EAAE;AAVuD,GAAzE;AAYAtF,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,MAA7D,EAAqE;AACjE;AACR;AACA;AACQ4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAK/C,KAAL,CAAW8D,IAAlB;AACH,KANgE;AAOjEd,IAAAA,UAAU,EAAE,IAPqD;AAQjEC,IAAAA,YAAY,EAAE;AARmD,GAArE;AAUA;AACJ;AACA;;AACInD,EAAAA,2BAA2B,CAAC3B,SAA5B,CAAsC4F,kBAAtC,GAA2D,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AACvF,QAAI,KAAKxB,OAAL,IAAgB,KAAKvC,KAAL,CAAW8B,OAA3B,IAAsCiC,SAAS,CAACjC,OAApD,EAA6D;AACzD,UAAIrB,EAAE,GAAG,KAAKL,UAAd;AAAA,UAA0Ba,KAAK,GAAGR,EAAE,CAAC,CAAD,CAApC;AAAA,UAAyCS,GAAG,GAAGT,EAAE,CAAC,CAAD,CAAjD;AACA,UAAIuD,aAAa,GAAGF,SAAS,CAAClC,SAA9B;AACA,UAAIqC,aAAa,GAAG,KAAKnE,KAAL,CAAW8B,SAA/B;;AACA,UAAK,CAACoC,aAAD,IAAkBC,aAAnB,IACCD,aAAa,IAAIC,aAAjB,KACID,aAAa,CAAC/C,KAAd,KAAwBgD,aAAa,CAAChD,KAAtC,IAA+C+C,aAAa,CAAC9C,GAAd,KAAsB+C,aAAa,CAAC/C,GADvF,CADL,EAEmG;AAC/FD,QAAAA,KAAK,GAAGgD,aAAa,CAAChD,KAAtB;AACAC,QAAAA,GAAG,GAAG+C,aAAa,CAAC/C,GAApB;AACH;;AACD,UAAID,KAAK,KAAK,IAAV,IAAkBC,GAAG,KAAK,IAA9B,EAAoC;AAChC,aAAKqB,OAAL,CAAa2B,iBAAb,CAA+BjD,KAA/B,EAAsCC,GAAtC;AACH;AACJ;;AACD,QAAIjC,cAAc,CAAC6E,SAAD,EAAY,KAAKhE,KAAjB,CAAlB,EAA2C;AACvC,WAAKqE,aAAL;AACH;;AACD,SAAK7B,WAAL;AACH,GAnBD;AAoBA;AACJ;AACA;;;AACI1C,EAAAA,2BAA2B,CAAC3B,SAA5B,CAAsCmG,iBAAtC,GAA0D,YAAY;AAClE,SAAKD,aAAL;AACA,SAAK7B,WAAL;AACH,GAHD;AAIA;AACJ;AACA;;;AACI1C,EAAAA,2BAA2B,CAAC3B,SAA5B,CAAsCoG,MAAtC,GAA+C,YAAY;AACvD,QAAItE,KAAK,GAAG,IAAZ;;AACA,QAAIU,EAAJ;;AACA,QAAI6D,EAAE,GAAG,KAAKxE,KAAd;AAAA,QAAqByE,EAAE,GAAGD,EAAE,CAACE,IAA7B;AAAA,QAAmCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB3E,2BAA2B,CAAC+D,YAA5B,CAAyCa,IAAzD,GAAgED,EAA1G;AAAA,QAA8GE,EAAE,GAAGH,EAAE,CAACI,QAAtH;AAAA,QAAgIA,QAAQ,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB7E,2BAA2B,CAAC+D,YAA5B,CAAyCe,QAAzD,GAAoED,EAA/M;AAAA,QAAmNE,EAAE,GAAGL,EAAE,CAACM,OAA3N;AAAA,QAAoOA,OAAO,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB/E,2BAA2B,CAAC+D,YAA5B,CAAyCiB,OAAzD,GAAmED,EAAjT;AACA,QAAIE,OAAO,GAAG,KAAK/E,KAAL,CAAWgF,EAAX,IAAiB,KAAK7E,QAApC;AACA,QAAI8E,OAAO,GAAG,CAAC,KAAKrB,cAAN,IAAwB,KAAKjB,QAAL,CAAcC,KAApD;AACA,QAAIsC,KAAK,GAAG,KAAKlF,KAAL,CAAWkF,KAAX,IAAoB,EAAhC;AACA,QAAIC,SAAS,GAAIpG,KAAK,CAACqG,aAAN,CAAoB,MAApB,EAA4B;AAAEC,MAAAA,GAAG,EAAE,KAAKrF,KAAL,CAAWqF,GAAlB;AAAuBC,MAAAA,SAAS,EAAEhG,UAAU,CAAC,yBAAD,GAA6BqB,EAAE,GAAG,EAAL,EAC9GA,EAAE,CAAC,cAAcjB,cAAc,CAAC6F,OAAf,CAAuBb,IAAvB,KAAgCA,IAA9C,CAAD,CAAF,GAA0DA,IADoD,EAE9G/D,EAAE,CAAC,aAAaiE,QAAd,CAAF,GAA4BA,QAFkF,EAG9GjE,EAAE,CAAC,gBAAgBjB,cAAc,CAAC8F,UAAf,CAA0BV,OAA1B,KAAsCA,OAAtD,CAAD,CAAF,GAAqEA,OAHyC,EAI9GnE,EAAE,CAAC,SAAD,CAAF,GAAgBsE,OAJ8F,EAK9GtE,EAAE,CAAC,WAAD,CAAF,GAAkB,CAACsE,OAL2F,EAM9GtE,EAAE,CAAC,YAAD,CAAF,GAAmB,KAAK4C,QANsF,EAO9G5C,EAAE,CAAC,YAAD,CAAF,GAAmB,KAAKX,KAAL,CAAWyF,QAPgF,EAQ9G9E,EARiF,GAQ5E,KAAKX,KAAL,CAAWsF,SARiE,CAA5C;AAQTJ,MAAAA,KAAK,EAAE,CAAC,KAAKlF,KAAL,CAAW0F,KAAZ,GACjCrH,QAAQ,CAAC;AAAEsH,QAAAA,KAAK,EAAE,KAAK3F,KAAL,CAAW2F;AAApB,OAAD,EAA8BT,KAA9B,CADyB,GACcA;AATZ,KAA5B,EAUbnG,KAAK,CAACqG,aAAN,CAAoB,OAApB,EAA6B;AAAEQ,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,YAAY,EAAE,KAA9B;AAAqCC,MAAAA,WAAW,EAAE,KAAlD;AAAyDC,MAAAA,cAAc,EAAE,KAAzE;AAAgFC,MAAAA,UAAU,EAAE,KAA5F;AAAmGV,MAAAA,SAAS,EAAE,uBAA9G;AAAuIpE,MAAAA,KAAK,EAAE,KAAKA,KAAnJ;AAA0J8D,MAAAA,EAAE,EAAED,OAA9J;AAAuK,yBAAmB,KAAK/E,KAAL,CAAWiG,cAArM;AAAqN,0BAAoB,KAAKjG,KAAL,CAAWkG,eAApP;AAAqQpC,MAAAA,IAAI,EAAE,KAAK9D,KAAL,CAAW8D,IAAtR;AAA4RqC,MAAAA,QAAQ,EAAE5G,WAAW,CAAC,KAAKS,KAAL,CAAWmG,QAAZ,EAAsB,KAAKnG,KAAL,CAAWyF,QAAjC,EAA2C,IAA3C,CAAjT;AAAmWW,MAAAA,SAAS,EAAE,KAAKpG,KAAL,CAAWoG,SAAzX;AAAoYC,MAAAA,KAAK,EAAE,KAAKrG,KAAL,CAAWqG,KAAtZ;AAA6ZZ,MAAAA,QAAQ,EAAE,KAAKzF,KAAL,CAAWyF,QAAX,IAAuBtD,SAA9b;AAAycmE,MAAAA,QAAQ,EAAE,KAAKtG,KAAL,CAAWuG,QAAX,IAAuBpE,SAA1e;AAAqfqE,MAAAA,WAAW,EAAE,KAAKxG,KAAL,CAAWwG,WAA7gB;AAA0hBC,MAAAA,GAAG,EAAE,UAAUzF,KAAV,EAAiB;AAAE,eAAOf,KAAK,CAACM,MAAN,GAAeS,KAAtB;AAA8B,OAAhlB;AAAklB0F,MAAAA,QAAQ,EAAE,KAAK3F,eAAjmB;AAAknB4F,MAAAA,OAAO,EAAE,KAAKlG,YAAhoB;AAA8oByB,MAAAA,OAAO,EAAE,KAAKH,YAA5pB;AAA0qBQ,MAAAA,MAAM,EAAE,KAAKD,WAAvrB;AAAosBsE,MAAAA,WAAW,EAAExH,WAAjtB;AAA8tByH,MAAAA,MAAM,EAAEzH;AAAtuB,KAA7B,CAVa,CAAjB;AAWA,WAAO,KAAKY,KAAL,CAAW0F,KAAX,GACA3G,KAAK,CAACqG,aAAN,CAAoBzF,aAApB,EAAmC;AAAE+F,MAAAA,KAAK,EAAE,KAAK1F,KAAL,CAAW0F,KAApB;AAA2BoB,MAAAA,QAAQ,EAAE/B,OAArC;AAA8CgC,MAAAA,WAAW,EAAE,KAAK7F,KAAhE;AAAuE8F,MAAAA,WAAW,EAAE/B,OAApF;AAA6FgC,MAAAA,cAAc,EAAE,KAAKjH,KAAL,CAAWyF,QAAxH;AAAkIyB,MAAAA,iBAAiB,EAAE,KAAKlH,KAAL,CAAWwG,WAAhK;AAA6KW,MAAAA,QAAQ,EAAEhC,SAAvL;AAAkMD,MAAAA,KAAK,EAAE;AAAES,QAAAA,KAAK,EAAE,KAAK3F,KAAL,CAAW2F;AAApB,OAAzM;AAAsON,MAAAA,GAAG,EAAE,KAAKrF,KAAL,CAAWqF;AAAtP,KAAnC,CADA,GAEDF,SAFN;AAGH,GArBD;;AAsBArF,EAAAA,2BAA2B,CAAC3B,SAA5B,CAAsCmD,eAAtC,GAAwD,UAAUC,WAAV,EAAuBb,KAAvB,EAA8B;AAClF,SAAKuB,QAAL,CAAc;AACVf,MAAAA,KAAK,EAAEK;AADG,KAAd;;AAGA,QAAI,KAAKvB,KAAL,CAAW0G,QAAf,EAAyB;AACrB,WAAKxD,oBAAL,GAA4B3B,WAA5B;AACA,WAAKvB,KAAL,CAAW0G,QAAX,CAAoB7H,IAApB,CAAyBsD,SAAzB,EAAoC;AAChCC,QAAAA,cAAc,EAAE1B,KADgB;AAEhC2B,QAAAA,WAAW,EAAE3B,KAAK,CAAC2B,WAFa;AAGhCxB,QAAAA,cAAc,EAAE,KAAKP,UAAL,CAAgB,CAAhB,CAHgB;AAIhCQ,QAAAA,YAAY,EAAE,KAAKR,UAAL,CAAgB,CAAhB,CAJkB;AAKhCM,QAAAA,MAAM,EAAE,IALwB;AAMhCM,QAAAA,KAAK,EAAE,KAAKA;AANoB,OAApC;AAQA,WAAKgC,oBAAL,GAA4Bf,SAA5B;AACH;AACJ,GAhBD;;AAiBArC,EAAAA,2BAA2B,CAAC3B,SAA5B,CAAsCkG,aAAtC,GAAsD,UAAU+C,KAAV,EAAiB;AACnE,QAAIC,MAAM,GAAG1J,MAAM,CAACW,MAAP,CAAc;AACvBgJ,MAAAA,eAAe,EAAE,KAAKtH,KAAL,CAAWsH,eADL;AAEvBjG,MAAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWqB,IAFM;AAGvBoC,MAAAA,MAAM,EAAE,KAAKzD,KAAL,CAAWyD,MAHI;AAIvB8D,MAAAA,iBAAiB,EAAE,KAAKvH,KAAL,CAAWuH,iBAJP;AAKvBC,MAAAA,KAAK,EAAE,KAAKA;AALW,KAAd,EAMVJ,KANU,CAAb,CADmE,CAOxD;;AACX,SAAKhH,QAAL,CAAcqH,MAAd,CAAqBJ,MAArB;AACH,GATD;;AAUA1J,EAAAA,MAAM,CAACmF,cAAP,CAAsBhD,2BAA2B,CAAC3B,SAAlD,EAA6D,OAA7D,EAAsE;AAClE4E,IAAAA,GAAG,EAAE,YAAY;AACb,aAAOpF,MAAM,CAACW,MAAP,CAAc,EAAd,EAAkBY,YAAlB,EAAgC,KAAKc,KAAL,CAAWwH,KAA3C,CAAP;AACH,KAHiE;AAIlExE,IAAAA,UAAU,EAAE,IAJsD;AAKlEC,IAAAA,YAAY,EAAE;AALoD,GAAtE;AAOAnD,EAAAA,2BAA2B,CAAC4H,WAA5B,GAA0C,eAA1C;AACA;AACJ;AACA;;AACI5H,EAAAA,2BAA2B,CAAC6H,SAA5B,GAAwC;AACpCzG,IAAAA,KAAK,EAAElC,SAAS,CAAC4I,MADmB;AAEpCzE,IAAAA,YAAY,EAAEnE,SAAS,CAAC4I,MAFY;AAGpCpB,IAAAA,WAAW,EAAExH,SAAS,CAAC4I,MAHa;AAIpCvB,IAAAA,KAAK,EAAErH,SAAS,CAAC4I,MAJmB;AAKpCvC,IAAAA,GAAG,EAAErG,SAAS,CAAC4I,MALqB;AAMpC5C,IAAAA,EAAE,EAAEhG,SAAS,CAAC4I,MANsB;AAOpC1C,IAAAA,KAAK,EAAElG,SAAS,CAAC6I,MAPmB;AAQpCvC,IAAAA,SAAS,EAAEtG,SAAS,CAAC4I,MARe;AASpC3B,IAAAA,cAAc,EAAEjH,SAAS,CAAC4I,MATU;AAUpC1B,IAAAA,eAAe,EAAElH,SAAS,CAAC4I,MAVS;AAWpCjC,IAAAA,KAAK,EAAE3G,SAAS,CAAC8I,SAAV,CAAoB,CACvB9I,SAAS,CAAC4I,MADa,EAEvB5I,SAAS,CAAC+I,MAFa,CAApB,CAX6B;AAepC5B,IAAAA,QAAQ,EAAEnH,SAAS,CAAC+I,MAfgB;AAgBpC3B,IAAAA,SAAS,EAAEpH,SAAS,CAAC4I,MAhBe;AAiBpCnC,IAAAA,QAAQ,EAAEzG,SAAS,CAACgJ,IAjBgB;AAkBpCzB,IAAAA,QAAQ,EAAEvH,SAAS,CAACgJ,IAlBgB;AAmBpCvE,IAAAA,MAAM,EAAEzE,SAAS,CAAC4I,MAnBkB;AAoBpCL,IAAAA,iBAAiB,EAAEvI,SAAS,CAAC4I,MApBO;AAqBpCN,IAAAA,eAAe,EAAEtI,SAAS,CAACgJ,IArBS;AAsBpCxE,IAAAA,cAAc,EAAExE,SAAS,CAACgJ,IAtBU;AAuBpC3G,IAAAA,IAAI,EAAErC,SAAS,CAAC4I,MAvBoB;AAwBpCJ,IAAAA,KAAK,EAAE,UAAUxH,KAAV,EAAiBiI,QAAjB,EAA2BC,aAA3B,EAA0C;AAC7C,UAAIV,KAAK,GAAGxH,KAAK,CAACwH,KAAlB;;AACA,UAAIA,KAAK,KAAKrF,SAAd,EAAyB;AACrB,YAAIS,KAAK,GAAGjF,MAAM,CAACwK,OAAP,CAAeX,KAAf,EACPY,IADO,CACF,UAAUC,CAAV,EAAa;AAAE,iBAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB,EAAEb,KAAK,CAACa,CAAD,CAAL,YAAoBC,MAAtB,CAAhC;AAAgE,SAD7E,CAAZ;;AAEA,YAAI,CAAC1F,KAAL,EAAY;AACR,iBAAO,IAAI2F,KAAJ,CAAU,mBAAmBN,QAAnB,GAA8B,eAA9B,GACb,IADa,GACNC,aADM,GACU,uBADpB,CAAP;AAEH;AACJ;;AACD,aAAO,IAAP;AACH,KAnCmC;AAoCpCpG,IAAAA,SAAS,EAAE9C,SAAS,CAACwJ,KAAV,CAAgB;AACvBrH,MAAAA,KAAK,EAAEnC,SAAS,CAAC+I,MAAV,CAAiBU,UADD;AAEvBrH,MAAAA,GAAG,EAAEpC,SAAS,CAAC+I,MAAV,CAAiBU;AAFC,KAAhB,CApCyB;AAwCpC3E,IAAAA,IAAI,EAAE9E,SAAS,CAAC4I,MAxCoB;AAyCpClC,IAAAA,KAAK,EAAE1G,SAAS,CAAC4I,MAzCmB;AA0CpC/E,IAAAA,iBAAiB,EAAE7D,SAAS,CAAC4I,MA1CO;AA2CpCrE,IAAAA,QAAQ,EAAEvE,SAAS,CAACgJ,IA3CgB;AA4CpCpF,IAAAA,KAAK,EAAE5D,SAAS,CAACgJ,IA5CmB;AA6CpCpE,IAAAA,cAAc,EAAE5E,SAAS,CAACgJ,IA7CU;AA8CpCtB,IAAAA,QAAQ,EAAE1H,SAAS,CAAC0J,IA9CgB;AA+CpChE,IAAAA,IAAI,EAAE1F,SAAS,CAAC2J,KAAV,CAAgB,CAAC,IAAD,EAAO,OAAP,EAAgB,QAAhB,EAA0B,OAA1B,CAAhB,CA/C8B;AAgDpC7D,IAAAA,OAAO,EAAE9F,SAAS,CAAC2J,KAAV,CAAgB,CAAC,IAAD,EAAO,OAAP,EAAgB,QAAhB,EAA0B,OAA1B,EAAmC,MAAnC,CAAhB,CAhD2B;AAiDpC/D,IAAAA,QAAQ,EAAE5F,SAAS,CAAC2J,KAAV,CAAgB,CAAC,IAAD,EAAO,OAAP,EAAgB,MAAhB,EAAwB,SAAxB,CAAhB;AAjD0B,GAAxC;AAmDA;AACJ;AACA;;AACI7I,EAAAA,2BAA2B,CAAC+D,YAA5B,GAA2C;AACvCJ,IAAAA,MAAM,EAAE,GAD+B;AAEvC8D,IAAAA,iBAAiB,EAAE,GAFoB;AAGvCD,IAAAA,eAAe,EAAE,KAHsB;AAIvC9D,IAAAA,cAAc,EAAE,IAJuB;AAKvCgE,IAAAA,KAAK,EAAEtI,YALgC;AAMvCqE,IAAAA,QAAQ,EAAE,KAN6B;AAOvCK,IAAAA,cAAc,EAAE,IAPuB;AAQvCc,IAAAA,IAAI,EAAE,QARiC;AASvCI,IAAAA,OAAO,EAAE,QAT8B;AAUvCF,IAAAA,QAAQ,EAAE;AAV6B,GAA3C;AAYA,SAAO9E,2BAAP;AACH,CApXgD,CAoX/Cf,KAAK,CAAC6J,SApXyC,CAAjD;;AAqXA,SAAS9I,2BAAT;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAI+I,yBAAyB,GAAGpJ,kBAAkB,EAAlD;AACP;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIqJ,aAAa,GAAGtJ,gBAAgB,CAACqJ,yBAAD,EAA4B/I,2BAA5B,CAApC;AACPgJ,aAAa,CAACpB,WAAd,GAA4B,yBAA5B","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MaskingService } from './masking.service';\nimport { defaultRules, maskingChanged, returnFalse } from './utils';\nimport { guid, classNames, getTabIndex, withPropsContext, createPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/** @hidden */\nvar MaskedTextBoxWithoutContext = /** @class */ (function (_super) {\n    __extends(MaskedTextBoxWithoutContext, _super);\n    function MaskedTextBoxWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this._inputId = \"k-\" + guid();\n        _this._service = new MaskingService();\n        _this._isPasted = false;\n        _this._selection = [null, null];\n        _this._input = null;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        _this.pasteHandler = function (event) {\n            var _a = event.target, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n            if (selectionEnd === selectionStart) {\n                return;\n            }\n            _this._isPasted = true;\n            _this._selection = [selectionStart || 0, selectionEnd || 0];\n        };\n        _this.onChangeHandler = function (event) {\n            var input = event.currentTarget;\n            var value = input.value;\n            var start = _this._selection[0] || 0;\n            var end = _this._selection[1] || 0;\n            if (!_this.props.mask) {\n                _this._isPasted = false;\n                _this._selection = [null, null];\n                _this.triggerOnChange(value, event);\n                return;\n            }\n            var maskedValue = _this.value;\n            var result;\n            if (_this._isPasted) {\n                _this._isPasted = false;\n                var rightPart = maskedValue.length - end;\n                var to = value.length - rightPart;\n                result = _this._service.maskInRange(value.slice(start, to), maskedValue, start, end);\n            }\n            else {\n                result = _this._service.maskInput(value, maskedValue, input.selectionStart || 0);\n            }\n            _this._selection = [result.selection, result.selection];\n            _this.triggerOnChange(result.value, event);\n        };\n        _this.focusHandler = function (event) {\n            if (!_this.state.focused) {\n                _this.setState({ focused: true });\n                if (_this.props.onFocus) {\n                    _this.props.onFocus.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.blurHandler = function (event) {\n            if (_this.state.focused) {\n                _this.setState({ focused: false });\n                if (_this.props.onBlur) {\n                    _this.props.onBlur.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.setValidity = function () {\n            if (_this.element) {\n                _this.element.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || '');\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"element\", {\n        /**\n         * Gets the element of the MaskedTextBox.\n         *\n         * @return - An `HTMLInputElement`.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *     }\n         *     element = null;\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <MaskedTextBox\n         *                     ref={(component) =>\n         *                         this.element = component ? component.element : null}\n         *                 />\n         *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         *\n         * ReactDOM.render(\n         *     <App />,\n         *     document.getElementsByTagName('my-app')[0]\n         * );\n         * ```\n         */\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"value\", {\n        /**\n         * Gets the value with the mask of the MaskedTextBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rawValue\", {\n        /**\n         * Gets the raw value without the mask of the MaskedTextBox.\n         */\n        get: function () {\n            return this._service.rawValue(this.value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MaskedTextBox is set.\n         */\n        get: function () {\n            var maskedValue = this.value;\n            var value = this._service.validationValue(maskedValue);\n            var customError = this.props.validationMessage !== undefined;\n            var valid = (this.props.valid !== undefined ?\n                this.props.valid : ((!this.required || !!value)) &&\n                (!this.props.maskValidation || !this.props.prompt || maskedValue.indexOf(this.props.prompt) === -1));\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: !value\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MaskedTextBoxWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MaskedTextBoxWithoutContext.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MaskedTextBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.element && this.state.focused && prevState.focused) {\n            var _a = this._selection, start = _a[0], end = _a[1];\n            var prevSelection = prevProps.selection;\n            var nextSelection = this.props.selection;\n            if ((!prevSelection && nextSelection) ||\n                (prevSelection && nextSelection &&\n                    (prevSelection.start !== nextSelection.start || prevSelection.end !== nextSelection.end))) {\n                start = nextSelection.start;\n                end = nextSelection.end;\n            }\n            if (start !== null && end !== null) {\n                this.element.setSelectionRange(start, end);\n            }\n        }\n        if (maskingChanged(prevProps, this.props)) {\n            this.updateService();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.componentDidMount = function () {\n        this.updateService();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.render = function () {\n        var _this = this;\n        var _a;\n        var _b = this.props, _c = _b.size, size = _c === void 0 ? MaskedTextBoxWithoutContext.defaultProps.size : _c, _d = _b.fillMode, fillMode = _d === void 0 ? MaskedTextBoxWithoutContext.defaultProps.fillMode : _d, _e = _b.rounded, rounded = _e === void 0 ? MaskedTextBoxWithoutContext.defaultProps.rounded : _e;\n        var inputId = this.props.id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var style = this.props.style || {};\n        var component = (React.createElement(\"span\", { dir: this.props.dir, className: classNames('k-maskedtextbox k-input', (_a = {},\n                _a[\"k-input-\" + (kendoThemeMaps.sizeMap[size] || size)] = size,\n                _a[\"k-input-\" + fillMode] = fillMode,\n                _a[\"k-rounded-\" + (kendoThemeMaps.roundedMap[rounded] || rounded)] = rounded,\n                _a['k-valid'] = isValid,\n                _a['k-invalid'] = !isValid,\n                _a['k-required'] = this.required,\n                _a['k-disabled'] = this.props.disabled,\n                _a), this.props.className), style: !this.props.label\n                ? __assign({ width: this.props.width }, style) : style },\n            React.createElement(\"input\", { type: \"text\", autoComplete: \"off\", autoCorrect: \"off\", autoCapitalize: \"off\", spellCheck: false, className: \"k-input k-input-inner\", value: this.value, id: inputId, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, name: this.props.name, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, true), accessKey: this.props.accessKey, title: this.props.title, disabled: this.props.disabled || undefined, readOnly: this.props.readonly || undefined, placeholder: this.props.placeholder, ref: function (input) { return _this._input = input; }, onChange: this.onChangeHandler, onPaste: this.pasteHandler, onFocus: this.focusHandler, onBlur: this.blurHandler, onDragStart: returnFalse, onDrop: returnFalse })));\n        return this.props.label\n            ? (React.createElement(FloatingLabel, { label: this.props.label, editorId: inputId, editorValue: this.value, editorValid: isValid, editorDisabled: this.props.disabled, editorPlaceholder: this.props.placeholder, children: component, style: { width: this.props.width }, dir: this.props.dir }))\n            : component;\n    };\n    MaskedTextBoxWithoutContext.prototype.triggerOnChange = function (maskedValue, event) {\n        this.setState({\n            value: maskedValue\n        });\n        if (this.props.onChange) {\n            this._valueDuringOnChange = maskedValue;\n            this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                selectionStart: this._selection[0],\n                selectionEnd: this._selection[1],\n                target: this,\n                value: this.value\n            });\n            this._valueDuringOnChange = undefined;\n        }\n    };\n    MaskedTextBoxWithoutContext.prototype.updateService = function (extra) {\n        var config = Object.assign({\n            includeLiterals: this.props.includeLiterals,\n            mask: this.props.mask,\n            prompt: this.props.prompt,\n            promptPlaceholder: this.props.promptPlaceholder,\n            rules: this.rules\n        }, extra); // tslint:disable-line:align\n        this._service.update(config);\n    };\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rules\", {\n        get: function () {\n            return Object.assign({}, defaultRules, this.props.rules);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MaskedTextBoxWithoutContext.displayName = 'MaskedTextBox';\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.propTypes = {\n        value: PropTypes.string,\n        defaultValue: PropTypes.string,\n        placeholder: PropTypes.string,\n        title: PropTypes.string,\n        dir: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        width: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number\n        ]),\n        tabIndex: PropTypes.number,\n        accessKey: PropTypes.string,\n        disabled: PropTypes.bool,\n        readonly: PropTypes.bool,\n        prompt: PropTypes.string,\n        promptPlaceholder: PropTypes.string,\n        includeLiterals: PropTypes.bool,\n        maskValidation: PropTypes.bool,\n        mask: PropTypes.string,\n        rules: function (props, propName, componentName) {\n            var rules = props.rules;\n            if (rules !== undefined) {\n                var valid = Object.entries(rules)\n                    .some(function (e) { return typeof e !== 'string' || !(rules[e] instanceof RegExp); });\n                if (!valid) {\n                    return new Error('Invalid prop `' + propName + '` supplied to' +\n                        ' `' + componentName + '`. Validation failed.');\n                }\n            }\n            return null;\n        },\n        selection: PropTypes.shape({\n            start: PropTypes.number.isRequired,\n            end: PropTypes.number.isRequired\n        }),\n        name: PropTypes.string,\n        label: PropTypes.string,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        valid: PropTypes.bool,\n        validityStyles: PropTypes.bool,\n        onChange: PropTypes.func,\n        size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n        rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n        fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline'])\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.defaultProps = {\n        prompt: '_',\n        promptPlaceholder: ' ',\n        includeLiterals: false,\n        maskValidation: true,\n        rules: defaultRules,\n        required: false,\n        validityStyles: true,\n        size: 'medium',\n        rounded: 'medium',\n        fillMode: 'solid'\n    };\n    return MaskedTextBoxWithoutContext;\n}(React.Component));\nexport { MaskedTextBoxWithoutContext };\n/**\n * Represents the PropsContext of the `MaskedTextBox` component.\n * Used for global configuration of all `MaskedTextBox` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var MaskedTextBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the props of the [KendoReact MaskedTextBox component]({% slug overview_maskedtextbox %}).\n *\n * Accepts properties of type [MaskedTextBoxProps]({% slug api_inputs_maskedtextboxprops %}).\n * Obtaining the `ref` returns an object of type [MaskedTextBoxHandle]({% slug api_inputs_maskedtextboxhandle %}).\n */\nexport var MaskedTextBox = withPropsContext(MaskedTextBoxPropsContext, MaskedTextBoxWithoutContext);\nMaskedTextBox.displayName = 'KendoReactMaskedTextBox';\n"]},"metadata":{},"sourceType":"module"}