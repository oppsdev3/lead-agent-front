{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { DateInput, DateInputWithoutContext } from '../dateinput/DateInput';\nimport { MultiViewCalendar } from '../calendar/components/MultiViewCalendar';\nimport { EMPTY_SELECTIONRANGE } from '../calendar/models';\nimport { MIN_DATE, MAX_DATE } from '../defaults';\nimport { swapStartEnd, start, end, separator, messages } from '../messages';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { nullable } from '../utils';\nvar WRAPPER_STYLES = {\n  display: 'inline-block'\n};\n/** @hidden */\n\nvar DateRangePickerWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(DateRangePickerWithoutContext, _super);\n\n  function DateRangePickerWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._element = null;\n    _this._wrapper = null;\n    _this._calendar = null;\n    _this._startDateInput = React.createRef();\n    _this._endDateInput = React.createRef();\n    _this._popupId = guid();\n    _this._startInputId = guid();\n    _this._endInputId = guid();\n    _this.shouldFocusDateInput = false;\n    _this.shouldFocusCalendar = false;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this.startDateInput) {\n        _this.startDateInput.focus();\n      }\n    };\n\n    _this.setCalendarRef = function (calendar) {\n      _this._calendar = calendar;\n    };\n\n    _this.focusCalendarElement = function () {\n      if (_this._calendar && _this._calendar.element) {\n        _this._calendar.element.focus({\n          preventScroll: true\n        });\n      }\n    };\n\n    _this.calculateValue = function (props, state) {\n      var value = props.value !== undefined ? props.value : state.value;\n      return value || EMPTY_SELECTIONRANGE;\n    };\n\n    _this.calculateShow = function (nextProps, nextState) {\n      return nextProps.show !== undefined ? nextProps.show : nextState.show;\n    };\n\n    _this.handleReverseClick = function (event) {\n      var value = {\n        start: _this.value.end,\n        end: _this.value.start\n      };\n      var args = {\n        syntheticEvent: event,\n        nativeEvent: event.nativeEvent\n      };\n\n      _this.handleChange(value, args);\n    };\n\n    _this.handleReverseMouseDown = function (event) {\n      event.preventDefault();\n    };\n\n    _this.handleFocus = function (event) {\n      clearTimeout(_this.nextTickId);\n\n      if (!_this.shouldFocusDateInput) {\n        _this.setShow(true);\n      }\n\n      if (_this.startDateInput && _this.startDateInput.element) {\n        _this.startDateInput.element.classList.add('k-state-focused');\n      }\n\n      if (_this.endDateInput && _this.endDateInput.element) {\n        _this.endDateInput.element.classList.add('k-state-focused');\n      }\n\n      var onFocus = _this.props.onFocus;\n\n      if (onFocus) {\n        onFocus.call(undefined, event);\n      }\n    };\n\n    _this.handleBlur = function (event) {\n      _this.nextTick(function () {\n        if (_this.startDateInput && _this.startDateInput.element) {\n          _this.startDateInput.element.classList.remove('k-state-focused');\n        }\n\n        if (_this.endDateInput && _this.endDateInput.element) {\n          _this.endDateInput.element.classList.remove('k-state-focused');\n        }\n\n        _this.setShow(false);\n      });\n\n      var onBlur = _this.props.onBlur;\n\n      if (onBlur) {\n        onBlur.call(undefined, event);\n      }\n    };\n\n    _this.handleEndChange = function (event) {\n      var value = {\n        start: _this.value.start,\n        end: cloneDate(event.value || undefined)\n      };\n\n      _this.handleChange(value, event);\n    };\n\n    _this.handleStartChange = function (event) {\n      var value = {\n        start: cloneDate(event.value || undefined),\n        end: _this.value.end\n      };\n\n      _this.handleChange(value, event);\n    };\n\n    _this.extractRangeFromValue = function (event) {\n      if (!Array.isArray(event.value) && !(event.value instanceof Date)) {\n        return event.value || EMPTY_SELECTIONRANGE;\n      }\n\n      var candidate = Array.isArray(event.value) ? event.value[0] : event.value;\n      return {\n        start: _this.value.end !== null ? candidate : _this.value.start,\n        end: _this.value.start !== null ? candidate : _this.value.end\n      };\n    };\n\n    _this.handleCalendarChange = function (event) {\n      var value = _this.extractRangeFromValue(event);\n\n      _this.handleChange(value, event);\n    };\n\n    _this.handleKeyDown = function (event) {\n      var keyCode = event.keyCode,\n          altKey = event.altKey;\n\n      if (keyCode === Keys.esc) {\n        event.preventDefault();\n        _this.shouldFocusDateInput = true;\n\n        _this.setShow(false);\n      } else if (altKey && keyCode === Keys.down) {\n        event.preventDefault();\n        _this.shouldFocusCalendar = true;\n\n        _this.setShow(true);\n      } else if (keyCode === Keys.tab && _this.show && _this._calendar && _this._calendar.element && _this.endDateInput && _this.endDateInput.element && document && document.activeElement === _this.endDateInput.element) {\n        event.preventDefault();\n\n        _this.focusCalendarElement();\n      }\n    };\n\n    _this.handleChange = function (value, event) {\n      _this.setState({\n        value: value\n      });\n\n      _this.valueDuringOnChange = value;\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        var args = {\n          syntheticEvent: event.syntheticEvent,\n          nativeEvent: event.nativeEvent,\n          value: _this.value,\n          show: _this.show,\n          target: _this\n        };\n        onChange.call(undefined, args);\n      }\n\n      _this.valueDuringOnChange = undefined;\n    };\n\n    validatePackage(packageMetadata);\n    _this.state = {\n      show: _this.props.show || _this.props.defaultShow || DateRangePickerWithoutContext.defaultProps.defaultShow,\n      value: _this.props.value || _this.props.defaultValue || DateRangePickerWithoutContext.defaultProps.defaultValue\n    };\n    _this.nextTick = _this.nextTick.bind(_this);\n    _this.setShow = _this.setShow.bind(_this);\n    _this.focusCalendarElement = _this.focusCalendarElement.bind(_this);\n    _this.focusDateInputElement = _this.focusDateInputElement.bind(_this);\n    return _this;\n  }\n\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"element\", {\n    /**\n     * Gets the wrapping element of the DateRangePicker.\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"startDateInput\", {\n    /**\n     * Gets the start DateInput component inside the DatePicker component.\n     */\n    get: function () {\n      return this._startDateInput.current;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"endDateInput\", {\n    /**\n     * Gets the end DateInput component inside the DatePicker component.\n     */\n    get: function () {\n      return this._endDateInput.current;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"calendar\", {\n    /**\n     * Gets the MultiVieCalendar inside the DateRangePicker.\n     */\n    get: function () {\n      return this._calendar;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"value\", {\n    /**\n     * Gets the value of the DateRangePicker.\n     */\n    get: function () {\n      var value = this.valueDuringOnChange !== undefined ? this.valueDuringOnChange : this.props.value !== undefined ? this.props.value : this.state.value;\n      return value || EMPTY_SELECTIONRANGE;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"show\", {\n    /**\n     * Gets the popup state of the DateRangePicker.\n     */\n    get: function () {\n      return this.showDuringOnChange !== undefined ? this.showDuringOnChange : this.props.show !== undefined ? this.props.show : this.state.show;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"min\", {\n    get: function () {\n      return this.props.min !== undefined ? this.props.min : DateRangePickerWithoutContext.defaultProps.min;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DateRangePickerWithoutContext.prototype, \"max\", {\n    get: function () {\n      return this.props.max !== undefined ? this.props.max : DateRangePickerWithoutContext.defaultProps.max;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  DateRangePickerWithoutContext.prototype.componentDidMount = function () {\n    if (this.show) {\n      // If defaultShow is true during the initial render, the popup is not aligned.\n      this.forceUpdate();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateRangePickerWithoutContext.prototype.componentDidUpdate = function () {\n    if (this.shouldFocusCalendar) {\n      this.focusCalendarElement();\n    }\n\n    if (this.shouldFocusDateInput) {\n      this.focusDateInputElement();\n    }\n\n    this.shouldFocusCalendar = false;\n    this.shouldFocusDateInput = false;\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateRangePickerWithoutContext.prototype.componentWillUnmount = function () {\n    clearTimeout(this.nextTickId);\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateRangePickerWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var value = this.value || EMPTY_SELECTIONRANGE;\n    var startDateInputId = (this.props.startDateInputSettings || {}).id || this._startInputId;\n    var endDateInputId = (this.props.endDateInputSettings || {}).id || this._endInputId;\n    var rootClassName = classNames('k-daterangepicker', {\n      'k-state-disabled': this.props.disabled\n    }, this.props.className);\n    var localizationService = provideLocalizationService(this);\n    var startMessage = localizationService.toLanguageString(start, messages[start]);\n    var endMessage = localizationService.toLanguageString(end, messages[end]);\n    var separatorMessage = localizationService.toLanguageString(separator, messages[separator]);\n\n    var startDateInputProps = __assign({\n      label: startMessage,\n      format: this.props.format,\n      min: this.min,\n      max: this.max,\n      id: this._startInputId,\n      disabled: this.props.disabled,\n      valid: this.props.valid,\n      ariaHasPopup: true,\n      ariaExpanded: this.show\n    }, this.props.startDateInputSettings, {\n      value: value.start,\n      onChange: this.handleStartChange\n    });\n\n    var endDateInputProps = __assign({\n      label: endMessage,\n      format: this.props.format,\n      min: this.min,\n      max: this.max,\n      id: this._endInputId,\n      disabled: this.props.disabled,\n      valid: this.props.valid,\n      ariaHasPopup: true,\n      ariaExpanded: this.show\n    }, this.props.endDateInputSettings, {\n      value: value.end,\n      onChange: this.handleEndChange\n    });\n\n    var popupProps = __assign({\n      animate: this._wrapper !== null,\n      anchor: this._wrapper,\n      id: this._popupId,\n      anchorAlign: {\n        horizontal: 'left',\n        vertical: 'bottom'\n      },\n      popupAlign: {\n        horizontal: 'left',\n        vertical: 'top'\n      }\n    }, this.props.popupSettings, {\n      show: this.show\n    });\n\n    var calendarProps = __assign({\n      min: this.min,\n      max: this.max,\n      allowReverse: this.props.allowReverse,\n      mode: 'range',\n      focusedDate: this.props.focusedDate,\n      disabled: this.props.disabled\n    }, this.props.calendarSettings, {\n      value: value,\n      onChange: this.handleCalendarChange\n    });\n\n    var calendar = this.props.calendar ? React.createElement(this.props.calendar, __assign({}, calendarProps)) : React.createElement(MultiViewCalendar, __assign({}, calendarProps, {\n      ref: this.setCalendarRef\n    }));\n    var reverseButton = React.createElement(Button, __assign({\n      className: \"k-select\",\n      fillMode: \"flat\",\n      title: provideLocalizationService(this).toLanguageString(swapStartEnd, messages[swapStartEnd]),\n      onMouseDown: this.handleReverseMouseDown,\n      onClick: this.handleReverseClick\n    }, {\n      'aria-controls': startDateInputId + ' ' + endDateInputId,\n      'aria-label': provideLocalizationService(this).toLanguageString(swapStartEnd, messages[swapStartEnd])\n    }), React.createElement(\"span\", {\n      style: {\n        transform: 'rotate(90deg)'\n      },\n      className: \"k-icon k-i-arrows-swap\"\n    }));\n    return React.createElement(\"span\", {\n      ref: function (span) {\n        _this._element = span;\n      },\n      className: rootClassName,\n      style: this.props.style,\n      id: this.props.id,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      tabIndex: this.props.tabIndex,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(\"span\", {\n      ref: function (span) {\n        _this._wrapper = span;\n      },\n      className: \"k-daterangepicker-wrap\",\n      style: WRAPPER_STYLES\n    }, this.props.startDateInput ? React.createElement(this.props.startDateInput, __assign({}, startDateInputProps)) : React.createElement(DateInput, __assign({}, startDateInputProps, {\n      ref: this._startDateInput\n    })), (this.props.allowReverse || this.props.calendarSettings && this.props.calendarSettings.allowReverse) && this.props.swapButton ? reverseButton : separatorMessage, this.props.endDateInput ? React.createElement(this.props.endDateInput, __assign({}, endDateInputProps)) : React.createElement(DateInput, __assign({}, endDateInputProps, {\n      ref: this._endDateInput\n    }))), this.props.popup ? React.createElement(this.props.popup, __assign({}, popupProps), calendar) : React.createElement(Popup, __assign({}, popupProps), calendar));\n  };\n\n  DateRangePickerWithoutContext.prototype.focusDateInputElement = function () {\n    if (!document || !this.startDateInput || !this.startDateInput.element || !this.endDateInput || !this.endDateInput.element) {\n      return;\n    }\n\n    if ((this.value.start === null || this.value.end !== null) && document.activeElement !== this.endDateInput.element) {\n      this.startDateInput.element.focus({\n        preventScroll: true\n      });\n    } else if (document.activeElement !== this.startDateInput.element) {\n      this.endDateInput.element.focus({\n        preventScroll: true\n      });\n    }\n  };\n\n  DateRangePickerWithoutContext.prototype.nextTick = function (f) {\n    // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n    // XXX: https://github.com/facebook/react/issues/3751\n    // Handles multiple focus events happening at the same time.\n    clearTimeout(this.nextTickId);\n    this.nextTickId = window.setTimeout(function () {\n      return f();\n    });\n  };\n\n  DateRangePickerWithoutContext.prototype.setShow = function (show) {\n    if (this.show === show) {\n      return;\n    }\n\n    this.setState({\n      show: show\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  DateRangePickerWithoutContext.displayName = 'DateRangePicker';\n  /**\n   * @hidden\n   */\n\n  DateRangePickerWithoutContext.propTypes = {\n    allowReverse: PropTypes.bool,\n    calendarSettings: PropTypes.any,\n    className: PropTypes.string,\n    defaultShow: PropTypes.bool,\n    defaultValue: PropTypes.shape({\n      start: nullable(PropTypes.instanceOf(Date).isRequired),\n      end: nullable(PropTypes.instanceOf(Date).isRequired)\n    }),\n    disabled: PropTypes.bool,\n    endDateInputSettings: PropTypes.shape(DateInputWithoutContext.propTypes),\n    focusedDate: PropTypes.instanceOf(Date),\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n      skeleton: PropTypes.string,\n      pattern: PropTypes.string,\n      date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n      era: PropTypes.oneOf(['narrow', 'short', 'long']),\n      year: PropTypes.oneOf(['numeric', '2-digit']),\n      month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n      day: PropTypes.oneOf(['numeric', '2-digit']),\n      weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n      hour: PropTypes.oneOf(['numeric', '2-digit']),\n      hour12: PropTypes.bool,\n      minute: PropTypes.oneOf(['numeric', '2-digit']),\n      second: PropTypes.oneOf(['numeric', '2-digit']),\n      timeZoneName: PropTypes.oneOf(['short', 'long'])\n    })]),\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    max: PropTypes.instanceOf(Date),\n    min: PropTypes.instanceOf(Date),\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    popupSettings: PropTypes.any,\n    show: PropTypes.bool,\n    startDateInputSettings: PropTypes.any,\n    style: PropTypes.any,\n    swapButton: PropTypes.any,\n    tabIndex: PropTypes.number,\n    value: PropTypes.shape({\n      start: nullable(PropTypes.instanceOf(Date).isRequired),\n      end: nullable(PropTypes.instanceOf(Date).isRequired)\n    })\n  };\n  /**\n   * @hidden\n   */\n\n  DateRangePickerWithoutContext.defaultProps = {\n    allowReverse: false,\n    defaultShow: false,\n    defaultValue: EMPTY_SELECTIONRANGE,\n    disabled: false,\n    format: 'd',\n    max: MAX_DATE,\n    min: MIN_DATE,\n    swapButton: false\n  };\n  return DateRangePickerWithoutContext;\n}(React.Component);\n\nexport { DateRangePickerWithoutContext };\n/**\n * Represents the PropsContext of the `DateRangePicker` component.\n * Used for global configuration of all `DateRangePicker` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\n\nexport var DateRangePickerPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/**\n * Represents the KendoReact DateRangePicker Component.\n *\n * Accepts properties of type [DateRangePickerProps]({% slug api_dateinputs_daterangepickerprops %}).\n * Obtaining the `ref` returns an object of type [DateRangePickerHandle]({% slug api_dateinputs_daterangepickerhandle %}).\n */\n\nexport var DateRangePicker = withPropsContext(DateRangePickerPropsContext, DateRangePickerWithoutContext);\nDateRangePicker.displayName = 'KendoReactDateRangePicker';\nregisterForLocalization(DateRangePickerWithoutContext);","map":{"version":3,"sources":["C:/Users/Admin/LeadManagement/frontend/node_modules/@progress/kendo-react-dateinputs/dist/es/daterangepicker/DateRangePicker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","Popup","cloneDate","guid","classNames","Keys","createPropsContext","withPropsContext","provideLocalizationService","registerForLocalization","validatePackage","packageMetadata","DateInput","DateInputWithoutContext","MultiViewCalendar","EMPTY_SELECTIONRANGE","MIN_DATE","MAX_DATE","swapStartEnd","start","end","separator","messages","Button","nullable","WRAPPER_STYLES","display","DateRangePickerWithoutContext","_super","props","_this","_element","_wrapper","_calendar","_startDateInput","createRef","_endDateInput","_popupId","_startInputId","_endInputId","shouldFocusDateInput","shouldFocusCalendar","focus","startDateInput","setCalendarRef","calendar","focusCalendarElement","element","preventScroll","calculateValue","state","value","undefined","calculateShow","nextProps","nextState","show","handleReverseClick","event","args","syntheticEvent","nativeEvent","handleChange","handleReverseMouseDown","preventDefault","handleFocus","clearTimeout","nextTickId","setShow","classList","add","endDateInput","onFocus","handleBlur","nextTick","remove","onBlur","handleEndChange","handleStartChange","extractRangeFromValue","isArray","Date","candidate","handleCalendarChange","handleKeyDown","keyCode","altKey","esc","down","tab","document","activeElement","setState","valueDuringOnChange","onChange","target","defaultShow","defaultProps","defaultValue","bind","focusDateInputElement","defineProperty","get","enumerable","configurable","current","showDuringOnChange","min","max","componentDidMount","forceUpdate","componentDidUpdate","componentWillUnmount","render","startDateInputId","startDateInputSettings","id","endDateInputId","endDateInputSettings","rootClassName","disabled","className","localizationService","startMessage","toLanguageString","endMessage","separatorMessage","startDateInputProps","label","format","valid","ariaHasPopup","ariaExpanded","endDateInputProps","popupProps","animate","anchor","anchorAlign","horizontal","vertical","popupAlign","popupSettings","calendarProps","allowReverse","mode","focusedDate","calendarSettings","createElement","ref","reverseButton","fillMode","title","onMouseDown","onClick","style","transform","span","ariaLabelledBy","ariaDescribedBy","tabIndex","onKeyDown","swapButton","popup","f","window","setTimeout","displayName","propTypes","bool","any","string","shape","instanceOf","isRequired","oneOfType","skeleton","pattern","date","oneOf","time","datetime","era","year","month","day","weekday","hour","hour12","minute","second","timeZoneName","func","number","Component","DateRangePickerPropsContext","DateRangePicker"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { provideLocalizationService, registerForLocalization } from '@progress/kendo-react-intl';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { DateInput, DateInputWithoutContext } from '../dateinput/DateInput';\nimport { MultiViewCalendar } from '../calendar/components/MultiViewCalendar';\nimport { EMPTY_SELECTIONRANGE } from '../calendar/models';\nimport { MIN_DATE, MAX_DATE } from '../defaults';\nimport { swapStartEnd, start, end, separator, messages } from '../messages';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { nullable } from '../utils';\nvar WRAPPER_STYLES = { display: 'inline-block' };\n/** @hidden */\nvar DateRangePickerWithoutContext = /** @class */ (function (_super) {\n    __extends(DateRangePickerWithoutContext, _super);\n    function DateRangePickerWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        _this._wrapper = null;\n        _this._calendar = null;\n        _this._startDateInput = React.createRef();\n        _this._endDateInput = React.createRef();\n        _this._popupId = guid();\n        _this._startInputId = guid();\n        _this._endInputId = guid();\n        _this.shouldFocusDateInput = false;\n        _this.shouldFocusCalendar = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.startDateInput) {\n                _this.startDateInput.focus();\n            }\n        };\n        _this.setCalendarRef = function (calendar) {\n            _this._calendar = calendar;\n        };\n        _this.focusCalendarElement = function () {\n            if (_this._calendar && _this._calendar.element) {\n                _this._calendar.element.focus({ preventScroll: true });\n            }\n        };\n        _this.calculateValue = function (props, state) {\n            var value = props.value !== undefined\n                ? props.value\n                : state.value;\n            return value || EMPTY_SELECTIONRANGE;\n        };\n        _this.calculateShow = function (nextProps, nextState) {\n            return nextProps.show !== undefined\n                ? nextProps.show\n                : nextState.show;\n        };\n        _this.handleReverseClick = function (event) {\n            var value = {\n                start: _this.value.end,\n                end: _this.value.start\n            };\n            var args = {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent\n            };\n            _this.handleChange(value, args);\n        };\n        _this.handleReverseMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleFocus = function (event) {\n            clearTimeout(_this.nextTickId);\n            if (!_this.shouldFocusDateInput) {\n                _this.setShow(true);\n            }\n            if (_this.startDateInput && _this.startDateInput.element) {\n                _this.startDateInput.element.classList.add('k-state-focused');\n            }\n            if (_this.endDateInput && _this.endDateInput.element) {\n                _this.endDateInput.element.classList.add('k-state-focused');\n            }\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            _this.nextTick(function () {\n                if (_this.startDateInput && _this.startDateInput.element) {\n                    _this.startDateInput.element.classList.remove('k-state-focused');\n                }\n                if (_this.endDateInput && _this.endDateInput.element) {\n                    _this.endDateInput.element.classList.remove('k-state-focused');\n                }\n                _this.setShow(false);\n            });\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleEndChange = function (event) {\n            var value = {\n                start: _this.value.start,\n                end: cloneDate(event.value || undefined)\n            };\n            _this.handleChange(value, event);\n        };\n        _this.handleStartChange = function (event) {\n            var value = {\n                start: cloneDate(event.value || undefined),\n                end: _this.value.end\n            };\n            _this.handleChange(value, event);\n        };\n        _this.extractRangeFromValue = function (event) {\n            if (!Array.isArray(event.value) && !(event.value instanceof Date)) {\n                return event.value || EMPTY_SELECTIONRANGE;\n            }\n            var candidate = Array.isArray(event.value) ? event.value[0] : event.value;\n            return {\n                start: _this.value.end !== null ? candidate : _this.value.start,\n                end: _this.value.start !== null ? candidate : _this.value.end\n            };\n        };\n        _this.handleCalendarChange = function (event) {\n            var value = _this.extractRangeFromValue(event);\n            _this.handleChange(value, event);\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode, altKey = event.altKey;\n            if (keyCode === Keys.esc) {\n                event.preventDefault();\n                _this.shouldFocusDateInput = true;\n                _this.setShow(false);\n            }\n            else if (altKey && keyCode === Keys.down) {\n                event.preventDefault();\n                _this.shouldFocusCalendar = true;\n                _this.setShow(true);\n            }\n            else if (keyCode === Keys.tab\n                && _this.show\n                && _this._calendar\n                && _this._calendar.element\n                && _this.endDateInput\n                && _this.endDateInput.element\n                && document\n                && document.activeElement === _this.endDateInput.element) {\n                event.preventDefault();\n                _this.focusCalendarElement();\n            }\n        };\n        _this.handleChange = function (value, event) {\n            _this.setState({ value: value });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.value,\n                    show: _this.show,\n                    target: _this\n                };\n                onChange.call(undefined, args);\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            show: _this.props.show || _this.props.defaultShow || DateRangePickerWithoutContext.defaultProps.defaultShow,\n            value: _this.props.value || _this.props.defaultValue || DateRangePickerWithoutContext.defaultProps.defaultValue\n        };\n        _this.nextTick = _this.nextTick.bind(_this);\n        _this.setShow = _this.setShow.bind(_this);\n        _this.focusCalendarElement = _this.focusCalendarElement.bind(_this);\n        _this.focusDateInputElement = _this.focusDateInputElement.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the DateRangePicker.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"startDateInput\", {\n        /**\n         * Gets the start DateInput component inside the DatePicker component.\n         */\n        get: function () {\n            return this._startDateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"endDateInput\", {\n        /**\n         * Gets the end DateInput component inside the DatePicker component.\n         */\n        get: function () {\n            return this._endDateInput.current;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"calendar\", {\n        /**\n         * Gets the MultiVieCalendar inside the DateRangePicker.\n         */\n        get: function () {\n            return this._calendar;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"value\", {\n        /**\n         * Gets the value of the DateRangePicker.\n         */\n        get: function () {\n            var value = this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n            return value || EMPTY_SELECTIONRANGE;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"show\", {\n        /**\n         * Gets the popup state of the DateRangePicker.\n         */\n        get: function () {\n            return this.showDuringOnChange !== undefined\n                ? this.showDuringOnChange\n                : this.props.show !== undefined\n                    ? this.props.show\n                    : this.state.show;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"min\", {\n        get: function () {\n            return this.props.min !== undefined\n                ? this.props.min\n                : DateRangePickerWithoutContext.defaultProps.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DateRangePickerWithoutContext.prototype, \"max\", {\n        get: function () {\n            return this.props.max !== undefined\n                ? this.props.max\n                : DateRangePickerWithoutContext.defaultProps.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.prototype.componentDidMount = function () {\n        if (this.show) {\n            // If defaultShow is true during the initial render, the popup is not aligned.\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.prototype.componentDidUpdate = function () {\n        if (this.shouldFocusCalendar) {\n            this.focusCalendarElement();\n        }\n        if (this.shouldFocusDateInput) {\n            this.focusDateInputElement();\n        }\n        this.shouldFocusCalendar = false;\n        this.shouldFocusDateInput = false;\n    };\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.prototype.render = function () {\n        var _this = this;\n        var value = this.value || EMPTY_SELECTIONRANGE;\n        var startDateInputId = (this.props.startDateInputSettings || {}).id || this._startInputId;\n        var endDateInputId = (this.props.endDateInputSettings || {}).id || this._endInputId;\n        var rootClassName = classNames('k-daterangepicker', {\n            'k-state-disabled': this.props.disabled\n        }, this.props.className);\n        var localizationService = provideLocalizationService(this);\n        var startMessage = localizationService.toLanguageString(start, messages[start]);\n        var endMessage = localizationService.toLanguageString(end, messages[end]);\n        var separatorMessage = localizationService.toLanguageString(separator, messages[separator]);\n        var startDateInputProps = __assign({ label: startMessage, format: this.props.format, min: this.min, max: this.max, id: this._startInputId, disabled: this.props.disabled, valid: this.props.valid, ariaHasPopup: true, ariaExpanded: this.show }, this.props.startDateInputSettings, { value: value.start, onChange: this.handleStartChange });\n        var endDateInputProps = __assign({ label: endMessage, format: this.props.format, min: this.min, max: this.max, id: this._endInputId, disabled: this.props.disabled, valid: this.props.valid, ariaHasPopup: true, ariaExpanded: this.show }, this.props.endDateInputSettings, { value: value.end, onChange: this.handleEndChange });\n        var popupProps = __assign({ animate: this._wrapper !== null, anchor: this._wrapper, id: this._popupId, anchorAlign: {\n                horizontal: 'left',\n                vertical: 'bottom'\n            }, popupAlign: {\n                horizontal: 'left',\n                vertical: 'top'\n            } }, this.props.popupSettings, { show: this.show });\n        var calendarProps = __assign({ min: this.min, max: this.max, allowReverse: this.props.allowReverse, mode: 'range', focusedDate: this.props.focusedDate, disabled: this.props.disabled }, this.props.calendarSettings, { value: value, onChange: this.handleCalendarChange });\n        var calendar = this.props.calendar\n            ? React.createElement(this.props.calendar, __assign({}, calendarProps))\n            : React.createElement(MultiViewCalendar, __assign({}, calendarProps, { ref: this.setCalendarRef }));\n        var reverseButton = (React.createElement(Button, __assign({ className: \"k-select\", fillMode: \"flat\", title: provideLocalizationService(this)\n                .toLanguageString(swapStartEnd, messages[swapStartEnd]), onMouseDown: this.handleReverseMouseDown, onClick: this.handleReverseClick }, {\n            'aria-controls': startDateInputId + ' ' + endDateInputId,\n            'aria-label': provideLocalizationService(this)\n                .toLanguageString(swapStartEnd, messages[swapStartEnd])\n        }),\n            React.createElement(\"span\", { style: { transform: 'rotate(90deg)' }, className: \"k-icon k-i-arrows-swap\" })));\n        return (React.createElement(\"span\", { ref: function (span) {\n                _this._element = span;\n            }, className: rootClassName, style: this.props.style, id: this.props.id, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, tabIndex: this.props.tabIndex, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyDown: this.handleKeyDown },\n            React.createElement(\"span\", { ref: function (span) {\n                    _this._wrapper = span;\n                }, className: \"k-daterangepicker-wrap\", style: WRAPPER_STYLES },\n                this.props.startDateInput\n                    ? React.createElement(this.props.startDateInput, __assign({}, startDateInputProps))\n                    : React.createElement(DateInput, __assign({}, startDateInputProps, { ref: this._startDateInput })),\n                (this.props.allowReverse\n                    || (this.props.calendarSettings && this.props.calendarSettings.allowReverse))\n                    && this.props.swapButton\n                    ? (reverseButton)\n                    : (separatorMessage),\n                this.props.endDateInput\n                    ? React.createElement(this.props.endDateInput, __assign({}, endDateInputProps))\n                    : React.createElement(DateInput, __assign({}, endDateInputProps, { ref: this._endDateInput }))),\n            this.props.popup\n                ? React.createElement(this.props.popup, __assign({}, popupProps), calendar)\n                : React.createElement(Popup, __assign({}, popupProps), calendar)));\n    };\n    DateRangePickerWithoutContext.prototype.focusDateInputElement = function () {\n        if (!document || !this.startDateInput || !this.startDateInput.element\n            || !this.endDateInput || !this.endDateInput.element) {\n            return;\n        }\n        if ((this.value.start === null || this.value.end !== null)\n            && document.activeElement !== this.endDateInput.element) {\n            this.startDateInput.element.focus({ preventScroll: true });\n        }\n        else if (document.activeElement !== this.startDateInput.element) {\n            this.endDateInput.element.focus({ preventScroll: true });\n        }\n    };\n    DateRangePickerWithoutContext.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    DateRangePickerWithoutContext.prototype.setShow = function (show) {\n        if (this.show === show) {\n            return;\n        }\n        this.setState({ show: show });\n    };\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.displayName = 'DateRangePicker';\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.propTypes = {\n        allowReverse: PropTypes.bool,\n        calendarSettings: PropTypes.any,\n        className: PropTypes.string,\n        defaultShow: PropTypes.bool,\n        defaultValue: PropTypes.shape({\n            start: nullable(PropTypes.instanceOf(Date).isRequired),\n            end: nullable(PropTypes.instanceOf(Date).isRequired)\n        }),\n        disabled: PropTypes.bool,\n        endDateInputSettings: PropTypes.shape(DateInputWithoutContext.propTypes),\n        focusedDate: PropTypes.instanceOf(Date),\n        format: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.shape({\n                skeleton: PropTypes.string,\n                pattern: PropTypes.string,\n                date: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                time: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                datetime: PropTypes.oneOf(['short', 'medium', 'long', 'full']),\n                era: PropTypes.oneOf(['narrow', 'short', 'long']),\n                year: PropTypes.oneOf(['numeric', '2-digit']),\n                month: PropTypes.oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n                day: PropTypes.oneOf(['numeric', '2-digit']),\n                weekday: PropTypes.oneOf(['narrow', 'short', 'long']),\n                hour: PropTypes.oneOf(['numeric', '2-digit']),\n                hour12: PropTypes.bool,\n                minute: PropTypes.oneOf(['numeric', '2-digit']),\n                second: PropTypes.oneOf(['numeric', '2-digit']),\n                timeZoneName: PropTypes.oneOf(['short', 'long'])\n            })\n        ]),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        popupSettings: PropTypes.any,\n        show: PropTypes.bool,\n        startDateInputSettings: PropTypes.any,\n        style: PropTypes.any,\n        swapButton: PropTypes.any,\n        tabIndex: PropTypes.number,\n        value: PropTypes.shape({\n            start: nullable(PropTypes.instanceOf(Date).isRequired),\n            end: nullable(PropTypes.instanceOf(Date).isRequired)\n        })\n    };\n    /**\n     * @hidden\n     */\n    DateRangePickerWithoutContext.defaultProps = {\n        allowReverse: false,\n        defaultShow: false,\n        defaultValue: EMPTY_SELECTIONRANGE,\n        disabled: false,\n        format: 'd',\n        max: MAX_DATE,\n        min: MIN_DATE,\n        swapButton: false\n    };\n    return DateRangePickerWithoutContext;\n}(React.Component));\nexport { DateRangePickerWithoutContext };\n/**\n * Represents the PropsContext of the `DateRangePicker` component.\n * Used for global configuration of all `DateRangePicker` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\nexport var DateRangePickerPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare */\n/**\n * Represents the KendoReact DateRangePicker Component.\n *\n * Accepts properties of type [DateRangePickerProps]({% slug api_dateinputs_daterangepickerprops %}).\n * Obtaining the `ref` returns an object of type [DateRangePickerHandle]({% slug api_dateinputs_daterangepickerhandle %}).\n */\nexport var DateRangePicker = withPropsContext(DateRangePickerPropsContext, DateRangePickerWithoutContext);\nDateRangePicker.displayName = 'KendoReactDateRangePicker';\nregisterForLocalization(DateRangePickerWithoutContext);\n"]},"metadata":{},"sourceType":"module"}