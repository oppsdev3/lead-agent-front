{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir, Keys, getTabIndex, createPropsContext, usePropsContext } from '@progress/kendo-react-common';\nimport { RatingItem } from './RatingItem';\nimport { ratingReducer, RATING_ACTION } from './rating-reducer';\nimport { isSelected, isHalf, calcIsFirstHalf, isCorrectValue, toRound, getRemainder } from './utils';\n/**\n * @hidden\n */\n\nvar useRating = function (defaultValue, args, callback) {\n  var _a = React.useState(defaultValue),\n      state = _a[0],\n      setState = _a[1];\n\n  var handleDispatchAction = function (action) {\n    var newState = ratingReducer(args.state || state, __assign({}, action, args));\n\n    if (callback) {\n      callback(newState, action.event);\n    }\n\n    setState(newState);\n  };\n\n  return [state, handleDispatchAction];\n};\n/**\n * Represents the PropsContext of the `Rating` component.\n * Used for global configuration of all `Rating` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\n\nexport var RatingPropsContext = createPropsContext();\n/**\n * Represents the [KendoReact Rating component]({% slug overview_rating %}).\n *\n * Accepts properties of type [RatingProps]({% slug api_inputs_ratingprops %}).\n * Obtaining the `ref` returns an object of type [RatingHandle]({% slug api_inputs_ratinghandle %}).\n */\n\nexport var Rating = React.forwardRef(function (directProps, ref) {\n  var _a, _b, _c, _d;\n\n  var props = usePropsContext(RatingPropsContext, directProps);\n  var target = React.useRef(null);\n  var ratingRef = React.useRef(null);\n  var dir = useDir(ratingRef, props.dir);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: ratingRef.current,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  var handleChange = React.useCallback(function (newValue, event) {\n    if (props.onChange && target.current) {\n      props.onChange.call(undefined, {\n        value: newValue,\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onChange]);\n  var min = React.useMemo(function () {\n    return props.min !== undefined ? props.min : defaultProps.min;\n  }, [props.min]);\n  var max = React.useMemo(function () {\n    return props.max !== undefined ? props.max : defaultProps.max;\n  }, [props.max]);\n  var precision = React.useMemo(function () {\n    return props.precision || defaultProps.precision;\n  }, [props.precision]);\n  var step = React.useMemo(function () {\n    return props.step !== undefined ? props.step : defaultProps.step;\n  }, [props.step]);\n  var readonly = React.useMemo(function () {\n    return props.readonly || defaultProps.readonly;\n  }, [props.readonly]);\n  var disabled = React.useMemo(function () {\n    return props.disabled || defaultProps.disabled;\n  }, [props.disabled]);\n  var Item = React.useMemo(function () {\n    return props.item || defaultProps.item;\n  }, [props.item]);\n\n  var _e = useRating(props.defaultValue || defaultProps.defaultValue, {\n    state: props.value,\n    min: min,\n    max: max,\n    step: precision === 'half' ? step / 2 : step\n  }, handleChange),\n      stateValue = _e[0],\n      dispatchStateValue = _e[1];\n\n  var _f = useRating(null, {\n    state: props.value,\n    min: min,\n    max: max,\n    step: precision === 'half' ? step / 2 : step,\n    precision: precision\n  }),\n      stateHover = _f[0],\n      dispatchStateHover = _f[1];\n\n  var value = React.useMemo(function () {\n    return props.value || stateValue;\n  }, [props.value, stateValue]);\n  var hoveredValue = React.useMemo(function () {\n    return stateHover;\n  }, [stateHover]);\n  var selection = React.useMemo(function () {\n    return props.selection || defaultProps.selection;\n  }, [props.selection]);\n  var base = React.useMemo(function () {\n    return step / (precision === 'half' ? 2 : 1);\n  }, [step, precision]);\n  var handleItemClick = React.useCallback(function (event) {\n    if (!event.target || !event.target.element || readonly || disabled) {\n      return;\n    }\n\n    if (precision === 'half') {\n      var rect = event.target.element.getBoundingClientRect();\n      var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n      var payload = isFirstHalf ? toRound(event.target.value - step / 2, base) : event.target.value;\n      dispatchStateValue({\n        type: RATING_ACTION.select,\n        payload: payload,\n        event: event.syntheticEvent\n      });\n    } else {\n      dispatchStateValue({\n        type: RATING_ACTION.select,\n        payload: event.target.value,\n        event: event.syntheticEvent\n      });\n    }\n\n    if (props.onClick) {\n      props.onClick.call(undefined, {\n        value: value,\n        target: target.current,\n        syntheticEvent: event.syntheticEvent\n      });\n    }\n  }, [props.onClick, dispatchStateValue, value]);\n  var handleKeyDown = React.useCallback(function (syntheticEvent) {\n    if (readonly || disabled) {\n      return;\n    }\n\n    switch (syntheticEvent.keyCode) {\n      case Keys.right:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.decrease : RATING_ACTION.increase,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.left:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.increase : RATING_ACTION.decrease,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.home:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.min : RATING_ACTION.max,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.end:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: dir === 'rtl' ? RATING_ACTION.max : RATING_ACTION.min,\n          event: syntheticEvent\n        });\n        break;\n\n      case Keys.esc:\n        syntheticEvent.preventDefault();\n        dispatchStateValue({\n          type: RATING_ACTION.deselect,\n          event: syntheticEvent\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    if (props.onKeyDown) {\n      props.onKeyDown.call(undefined, {\n        value: value,\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onKeyDown, dispatchStateValue, value]);\n  var handleFocus = React.useCallback(function (syntheticEvent) {\n    if (props.onFocus) {\n      props.onFocus.call(undefined, {\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onFocus]);\n  var handleBlur = React.useCallback(function (syntheticEvent) {\n    if (props.onBlur) {\n      props.onBlur.call(undefined, {\n        target: target.current,\n        syntheticEvent: syntheticEvent\n      });\n    }\n  }, [props.onBlur]);\n  var handleItemMouseMove = React.useCallback(function (event) {\n    if (!event.target || !event.target.element) {\n      return;\n    }\n\n    if (precision === 'half') {\n      var rect = event.target.element.getBoundingClientRect();\n      var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n      var payload = isFirstHalf ? event.target.value - step / 2 : event.target.value;\n      dispatchStateHover({\n        type: RATING_ACTION.select,\n        payload: payload,\n        event: event.syntheticEvent\n      });\n    } else {\n      dispatchStateHover({\n        type: RATING_ACTION.select,\n        payload: event.target.value,\n        event: event.syntheticEvent\n      });\n    }\n  }, [precision, step, dir]);\n  var handleMouseLeave = React.useCallback(function (event) {\n    dispatchStateHover({\n      type: RATING_ACTION.reset,\n      event: event.syntheticEvent\n    });\n  }, []);\n  var items = [];\n  var remainder = getRemainder(toRound(max - min, base), step);\n\n  for (var i = min; i <= max; i = toRound(i + step, base)) {\n    var itemValue = toRound(i + remainder, base);\n    var half = precision === 'half' ? isHalf(itemValue, hoveredValue !== null ? hoveredValue : value !== null ? value : 0, step) : false;\n    var selectedValue = isSelected(itemValue, value, step, selection);\n    var selected = isSelected(itemValue, hoveredValue !== null ? hoveredValue : value, step, selection);\n    var hovered = isSelected(itemValue, hoveredValue, step, selection);\n    items.push(React.createElement(Item, {\n      key: itemValue,\n      value: itemValue,\n      dir: dir,\n      title: String(half ? toRound(itemValue - step / 2, base) : itemValue),\n      icon: props.icon,\n      half: half,\n      selected: selectedValue || selected,\n      hovered: hovered,\n      onClick: handleItemClick,\n      onMouseMove: handleItemMouseMove,\n      onMouseLeave: handleMouseLeave\n    }, half && React.createElement(\"span\", {\n      className: 'k-rating-precision-complement',\n      style: (_a = {\n        width: '12px'\n      }, _a[dir === 'rtl' ? 'right' : 'left'] = '50%', _a)\n    }, React.createElement(\"span\", {\n      className: classNames('k-icon', (_b = {\n        'k-i-star-outline': !props.icon\n      }, _b[props.icon + \"-outline\"] = props.icon, _b))\n    })), half && React.createElement(\"span\", {\n      className: 'k-rating-precision-part',\n      style: {\n        width: '12px'\n      }\n    }, React.createElement(\"span\", {\n      className: classNames('k-icon', (_c = {\n        'k-i-star': !props.icon\n      }, _c[\"\" + props.icon] = props.icon, _c))\n    })), half && React.createElement(\"span\", {\n      style: {\n        width: '24px',\n        height: '24px',\n        display: 'block'\n      }\n    }), !half && React.createElement(\"span\", {\n      className: classNames('k-icon', (_d = {\n        'k-i-star': !props.icon && (hovered || selected && !hovered),\n        'k-i-star-outline': !props.icon && !hovered\n      }, _d[\"\" + props.icon] = props.icon && (hovered || selected && !hovered), _d[props.icon + \"-outline\"] = props.icon && !hovered, _d))\n    })));\n  }\n\n  return React.createElement(\"span\", {\n    id: props.id,\n    style: props.style,\n    ref: ratingRef,\n    role: \"slider\",\n    dir: dir,\n    tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined),\n    className: classNames('k-rating k-widget', {\n      'k-rtl': dir === 'rtl',\n      'k-state-readonly': readonly,\n      'k-state-disabled': disabled\n    }, props.className),\n    onKeyDown: handleKeyDown,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value !== null ? value : undefined,\n    \"aria-disabled\": disabled ? 'true' : undefined,\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-describedby\": props.ariaDescribedBy\n  }, React.createElement(\"input\", {\n    id: 'rating',\n    className: 'k-hidden',\n    readOnly: readonly,\n    disabled: disabled\n  }), React.createElement(\"span\", {\n    className: 'k-rating-container'\n  }, items), props.label && React.createElement(\"span\", {\n    className: 'k-rating-label'\n  }, props.label));\n});\nvar propTypes = {\n  id: PropTypes.string,\n  dir: PropTypes.oneOf(['ltr', 'rtl']),\n  selection: PropTypes.oneOf(['continues', 'single']),\n  precision: PropTypes.oneOf(['item', 'half']),\n  value: function (props, propName, componentName) {\n    if (props.value && props.min && props.max && props.step) {\n      var correctValue = props.precision === 'half' ? isCorrectValue(props.min, props.max, props.step / 2, props.value) : isCorrectValue(props.min, props.max, props.step, props.value);\n\n      if (!correctValue && props.precision === 'half') {\n        return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The value of the { value } property is not correct, please check your values.\\n                    \");\n      }\n    }\n\n    return null;\n  },\n  defaultValue: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: function (props, propName, componentName) {\n    if (props.step !== undefined && props.step <= 0) {\n      return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                The value of the { step } property is cannot be equal or less than \\\"0\\\", please check your values.\\n                \");\n    }\n\n    return null;\n  },\n  hovered: PropTypes.number,\n  label: PropTypes.string,\n  readonly: PropTypes.bool,\n  disabled: PropTypes.bool,\n  half: PropTypes.bool,\n  icon: PropTypes.string,\n  ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n  dir: 'ltr',\n  min: 1,\n  max: 5,\n  step: 1,\n  item: RatingItem,\n  defaultValue: null,\n  readonly: false,\n  disabled: false,\n  selection: 'continues',\n  precision: 'item'\n};\nRating.displayName = 'KendoReactRating'; // TODO: delete casting when @types/react is updated!\n\nRating.propTypes = propTypes;\nRating.defaultProps = defaultProps;","map":{"version":3,"sources":["C:/Users/Admin/LeadManagement/frontend/node_modules/@progress/kendo-react-inputs/dist/es/rating/Rating.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","PropTypes","classNames","useDir","Keys","getTabIndex","createPropsContext","usePropsContext","RatingItem","ratingReducer","RATING_ACTION","isSelected","isHalf","calcIsFirstHalf","isCorrectValue","toRound","getRemainder","useRating","defaultValue","args","callback","_a","useState","state","setState","handleDispatchAction","action","newState","event","RatingPropsContext","Rating","forwardRef","directProps","ref","_b","_c","_d","props","target","useRef","ratingRef","dir","useImperativeHandle","element","current","handleChange","useCallback","newValue","onChange","undefined","value","syntheticEvent","min","useMemo","defaultProps","max","precision","step","readonly","disabled","Item","item","_e","stateValue","dispatchStateValue","_f","stateHover","dispatchStateHover","hoveredValue","selection","base","handleItemClick","rect","getBoundingClientRect","isFirstHalf","clientX","payload","type","select","onClick","handleKeyDown","keyCode","right","preventDefault","decrease","increase","left","home","end","esc","deselect","onKeyDown","handleFocus","onFocus","handleBlur","onBlur","handleItemMouseMove","handleMouseLeave","reset","items","remainder","itemValue","half","selectedValue","selected","hovered","push","createElement","key","title","String","icon","onMouseMove","onMouseLeave","className","style","width","height","display","id","role","tabIndex","ariaLabelledBy","ariaDescribedBy","readOnly","label","propTypes","string","oneOf","propName","componentName","correctValue","Error","number","bool","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, useDir, Keys, getTabIndex, createPropsContext, usePropsContext } from '@progress/kendo-react-common';\nimport { RatingItem } from './RatingItem';\nimport { ratingReducer, RATING_ACTION } from './rating-reducer';\nimport { isSelected, isHalf, calcIsFirstHalf, isCorrectValue, toRound, getRemainder } from './utils';\n/**\n * @hidden\n */\nvar useRating = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchAction = function (action) {\n        var newState = ratingReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchAction];\n};\n/**\n * Represents the PropsContext of the `Rating` component.\n * Used for global configuration of all `Rating` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var RatingPropsContext = createPropsContext();\n/**\n * Represents the [KendoReact Rating component]({% slug overview_rating %}).\n *\n * Accepts properties of type [RatingProps]({% slug api_inputs_ratingprops %}).\n * Obtaining the `ref` returns an object of type [RatingHandle]({% slug api_inputs_ratinghandle %}).\n */\nexport var Rating = React.forwardRef(function (directProps, ref) {\n    var _a, _b, _c, _d;\n    var props = usePropsContext(RatingPropsContext, directProps);\n    var target = React.useRef(null);\n    var ratingRef = React.useRef(null);\n    var dir = useDir(ratingRef, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: ratingRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleChange = React.useCallback(function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onChange]);\n    var min = React.useMemo(function () { return props.min !== undefined ? props.min : defaultProps.min; }, [props.min]);\n    var max = React.useMemo(function () { return props.max !== undefined ? props.max : defaultProps.max; }, [props.max]);\n    var precision = React.useMemo(function () { return props.precision || defaultProps.precision; }, [props.precision]);\n    var step = React.useMemo(function () { return props.step !== undefined ? props.step : defaultProps.step; }, [props.step]);\n    var readonly = React.useMemo(function () { return props.readonly || defaultProps.readonly; }, [props.readonly]);\n    var disabled = React.useMemo(function () { return props.disabled || defaultProps.disabled; }, [props.disabled]);\n    var Item = React.useMemo(function () { return props.item || defaultProps.item; }, [props.item]);\n    var _e = useRating(props.defaultValue || defaultProps.defaultValue, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step\n    }, handleChange), stateValue = _e[0], dispatchStateValue = _e[1];\n    var _f = useRating(null, {\n        state: props.value,\n        min: min,\n        max: max,\n        step: precision === 'half' ? step / 2 : step,\n        precision: precision\n    }), stateHover = _f[0], dispatchStateHover = _f[1];\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var hoveredValue = React.useMemo(function () { return stateHover; }, [stateHover]);\n    var selection = React.useMemo(function () { return props.selection || defaultProps.selection; }, [props.selection]);\n    var base = React.useMemo(function () { return step / (precision === 'half' ? 2 : 1); }, [step, precision]);\n    var handleItemClick = React.useCallback(function (event) {\n        if (!event.target || !event.target.element || readonly || disabled) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? toRound(event.target.value - (step / 2), base) : event.target.value;\n            dispatchStateValue({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateValue({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: event.syntheticEvent\n            });\n        }\n    }, [props.onClick, dispatchStateValue, value]);\n    var handleKeyDown = React.useCallback(function (syntheticEvent) {\n        if (readonly || disabled) {\n            return;\n        }\n        switch (syntheticEvent.keyCode) {\n            case Keys.right:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.decrease : RATING_ACTION.increase, event: syntheticEvent\n                });\n                break;\n            case Keys.left:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.increase : RATING_ACTION.decrease, event: syntheticEvent\n                });\n                break;\n            case Keys.home:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.min : RATING_ACTION.max, event: syntheticEvent\n                });\n                break;\n            case Keys.end:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: dir === 'rtl' ? RATING_ACTION.max : RATING_ACTION.min, event: syntheticEvent\n                });\n                break;\n            case Keys.esc:\n                syntheticEvent.preventDefault();\n                dispatchStateValue({\n                    type: RATING_ACTION.deselect, event: syntheticEvent\n                });\n                break;\n            default:\n                break;\n        }\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                value: value,\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onKeyDown, dispatchStateValue, value]);\n    var handleFocus = React.useCallback(function (syntheticEvent) {\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onFocus]);\n    var handleBlur = React.useCallback(function (syntheticEvent) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: syntheticEvent\n            });\n        }\n    }, [props.onBlur]);\n    var handleItemMouseMove = React.useCallback(function (event) {\n        if (!event.target || !event.target.element) {\n            return;\n        }\n        if (precision === 'half') {\n            var rect = event.target.element.getBoundingClientRect();\n            var isFirstHalf = calcIsFirstHalf(dir ? dir : 'ltr', rect, event.syntheticEvent.clientX);\n            var payload = isFirstHalf ? event.target.value - (step / 2) : event.target.value;\n            dispatchStateHover({ type: RATING_ACTION.select, payload: payload, event: event.syntheticEvent });\n        }\n        else {\n            dispatchStateHover({ type: RATING_ACTION.select, payload: event.target.value, event: event.syntheticEvent });\n        }\n    }, [precision, step, dir]);\n    var handleMouseLeave = React.useCallback(function (event) {\n        dispatchStateHover({ type: RATING_ACTION.reset, event: event.syntheticEvent });\n    }, []);\n    var items = [];\n    var remainder = getRemainder(toRound(max - min, base), step);\n    for (var i = min; i <= max; i = toRound(i + step, base)) {\n        var itemValue = toRound(i + remainder, base);\n        var half = precision === 'half'\n            ? isHalf(itemValue, hoveredValue !== null ? hoveredValue : (value !== null ? value : 0), step)\n            : false;\n        var selectedValue = isSelected(itemValue, value, step, selection);\n        var selected = isSelected(itemValue, hoveredValue !== null ? hoveredValue : value, step, selection);\n        var hovered = isSelected(itemValue, hoveredValue, step, selection);\n        items.push(React.createElement(Item, { key: itemValue, value: itemValue, dir: dir, title: String(half ? toRound(itemValue - (step / 2), base) : itemValue), icon: props.icon, half: half, selected: selectedValue || selected, hovered: hovered, onClick: handleItemClick, onMouseMove: handleItemMouseMove, onMouseLeave: handleMouseLeave },\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-complement', style: (_a = { width: '12px' }, _a[dir === 'rtl' ? 'right' : 'left'] = '50%', _a) },\n                React.createElement(\"span\", { className: classNames('k-icon', (_b = {\n                            'k-i-star-outline': !props.icon\n                        },\n                        _b[props.icon + \"-outline\"] = props.icon,\n                        _b)) }))),\n            half && (React.createElement(\"span\", { className: 'k-rating-precision-part', style: { width: '12px' } },\n                React.createElement(\"span\", { className: classNames('k-icon', (_c = {\n                            'k-i-star': !props.icon\n                        },\n                        _c[\"\" + props.icon] = props.icon,\n                        _c)) }))),\n            half && (React.createElement(\"span\", { style: { width: '24px', height: '24px', display: 'block' } })),\n            !half && (React.createElement(\"span\", { className: classNames('k-icon', (_d = {\n                        'k-i-star': !props.icon && (hovered || (selected && !hovered)),\n                        'k-i-star-outline': !props.icon && (!hovered)\n                    },\n                    _d[\"\" + props.icon] = props.icon && (hovered || (selected && !hovered)),\n                    _d[props.icon + \"-outline\"] = props.icon && (!hovered),\n                    _d)) }))));\n    }\n    return (React.createElement(\"span\", { id: props.id, style: props.style, ref: ratingRef, role: \"slider\", dir: dir, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-rating k-widget', {\n            'k-rtl': dir === 'rtl',\n            'k-state-readonly': readonly,\n            'k-state-disabled': disabled\n        }, props.className), onKeyDown: handleKeyDown, onFocus: handleFocus, onBlur: handleBlur, \"aria-valuemin\": min, \"aria-valuemax\": max, \"aria-valuenow\": value !== null ? value : undefined, \"aria-disabled\": disabled ? 'true' : undefined, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy },\n        React.createElement(\"input\", { id: 'rating', className: 'k-hidden', readOnly: readonly, disabled: disabled }),\n        React.createElement(\"span\", { className: 'k-rating-container' }, items),\n        props.label &&\n            React.createElement(\"span\", { className: 'k-rating-label' }, props.label)));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    selection: PropTypes.oneOf(['continues', 'single']),\n    precision: PropTypes.oneOf(['item', 'half']),\n    value: function (props, propName, componentName) {\n        if (props.value && props.min && props.max && props.step) {\n            var correctValue = props.precision === 'half'\n                ? isCorrectValue(props.min, props.max, props.step / 2, props.value)\n                : isCorrectValue(props.min, props.max, props.step, props.value);\n            if (!correctValue && props.precision === 'half') {\n                return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                    The value of the { value } property is not correct, please check your values.\\n                    \");\n            }\n        }\n        return null;\n    },\n    defaultValue: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: function (props, propName, componentName) {\n        if (props.step !== undefined && props.step <= 0) {\n            return new Error(\"Invalid prop + \" + propName + \" supplied to \" + componentName + \".\\n                The value of the { step } property is cannot be equal or less than \\\"0\\\", please check your values.\\n                \");\n        }\n        return null;\n    },\n    hovered: PropTypes.number,\n    label: PropTypes.string,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    half: PropTypes.bool,\n    icon: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    dir: 'ltr',\n    min: 1,\n    max: 5,\n    step: 1,\n    item: RatingItem,\n    defaultValue: null,\n    readonly: false,\n    disabled: false,\n    selection: 'continues',\n    precision: 'item'\n};\nRating.displayName = 'KendoReactRating';\n// TODO: delete casting when @types/react is updated!\nRating.propTypes = propTypes;\nRating.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}