{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { classNames, guid, Keys, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { cloneDate, isEqualDate, getDate } from '@progress/kendo-date-math';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { Action, CalendarViewEnum, EMPTY_SELECTIONRANGE } from '../models';\nimport { Header } from './Header';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\nimport { messages, prevView, nextView } from '../../messages';\nimport { BusViewService, NavigationService } from '../services';\nimport { dateInRange, isInRange, viewInRange, getToday, nullable } from '../../utils';\nimport { HorizontalViewList } from './HorizontalViewList';\nimport { TodayCommand } from './TodayCommand';\n\nvar extractDateFromValue = function (min, max, value) {\n  if (min === void 0) {\n    min = MultiViewCalendarWithoutContext.defaultProps.min;\n  }\n\n  if (max === void 0) {\n    max = MultiViewCalendarWithoutContext.defaultProps.max;\n  }\n\n  return value instanceof Date && !Array.isArray(value) && isInRange(getDate(value), min, max) ? getDate(value) : null;\n};\n\nvar extractMultipleFromValue = function (min, max, value) {\n  if (min === void 0) {\n    min = MultiViewCalendarWithoutContext.defaultProps.min;\n  }\n\n  if (max === void 0) {\n    max = MultiViewCalendarWithoutContext.defaultProps.max;\n  }\n\n  return Array.isArray(value) ? value.filter(function (date) {\n    return isInRange(date, min, max);\n  }).map(function (date) {\n    return getDate(date);\n  }) : null;\n};\n\nvar extractRangeFromValue = function (value) {\n  return typeof value === 'object' && !(value instanceof Date) && value !== null && !Array.isArray(value) ? value : EMPTY_SELECTIONRANGE;\n};\n\nvar extractFocusedDate = function (single, multiple, range) {\n  return single || multiple && multiple[0] || range && range.start;\n};\n\nvar extractActiveRange = function (range, single) {\n  return range.start === null && single === null ? 'start' : range.end === null ? 'end' : 'start';\n};\n/** @hidden */\n\n\nvar MultiViewCalendarWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(MultiViewCalendarWithoutContext, _super);\n\n  function MultiViewCalendarWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.selectedDate = null;\n    _this.selectedMultiple = null;\n    _this.selectedRange = EMPTY_SELECTIONRANGE;\n    _this.cellUID = guid();\n    _this.activeRangeEnd = 'start';\n    _this.wrapperID = guid();\n    _this.isActive = false;\n    _this.calculateFocusFromValue = true;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._element) {\n        _this._element.focus();\n      }\n    };\n\n    _this.clampRange = function (value) {\n      return {\n        start: value,\n        end: null\n      };\n    };\n\n    _this.rangeWithFocused = function (range, focusedDate) {\n      return {\n        start: range.start,\n        end: range.end === null && range.start !== null && _this.isActive ? focusedDate : range.end\n      };\n    };\n\n    _this.generateRange = function (candidate, value) {\n      var end = value.end,\n          start = value.start;\n      var shouldSwap = value.start !== null && candidate.getTime() <= value.start.getTime();\n\n      if (!_this.props.allowReverse && shouldSwap) {\n        return {\n          start: candidate,\n          end: _this.selectedRange.start\n        };\n      }\n\n      return _this.activeRange !== 'end' ? {\n        start: candidate,\n        end: end\n      } : {\n        start: start || _this.selectedDate,\n        end: candidate\n      };\n    };\n\n    _this.canNavigate = function (action) {\n      if (!_this.service) {\n        return false;\n      }\n\n      var candidate = _this.service.move(_this.focusedDate, action);\n\n      return _this.min <= candidate && candidate <= _this.max || _this.service.isInSameView(candidate, _this.min) || _this.service.isInSameView(candidate, _this.max);\n    };\n\n    _this.isListInRange = function (list) {\n      return _this.min < list[0] && _this.max > list[Math.max(0, (_this.props.views || MultiViewCalendarWithoutContext.defaultProps.views) - 1)];\n    };\n\n    _this.navigate = function (action) {\n      _this.calculateFocusFromValue = false;\n\n      var candidate = _this.move(action);\n\n      _this.setState({\n        focusedDate: candidate\n      });\n    };\n\n    _this.move = function (action) {\n      return _this.clampDate(_this.service.move(_this.focusedDate, action));\n    };\n\n    _this.clampDate = function (value) {\n      return dateInRange(value, _this.min, _this.max);\n    };\n\n    _this.shouldAutoCorrect = function (candidate, value) {\n      var end = value.end,\n          start = value.start;\n\n      if (_this.activeRange !== 'end') {\n        return end !== null && candidate > end;\n      } else {\n        return start !== null && candidate < start;\n      }\n    };\n\n    _this.handleCellEnter = function (value) {\n      if (_this.props.mode === 'range') {\n        _this.calculateFocusFromValue = false;\n\n        _this.setState({\n          focusedDate: value\n        });\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      event.preventDefault();\n    };\n\n    _this.handleClick = function (_) {\n      if (!_this._element) {\n        return;\n      }\n\n      _this._element.focus({\n        preventScroll: true\n      });\n    };\n\n    _this.handleFocus = function (event) {\n      _this.isActive = true;\n\n      if (!_this.calendarViewList) {\n        return;\n      }\n\n      _this.calendarViewList.focusActiveDate();\n\n      var onFocus = _this.props.onFocus;\n\n      if (onFocus) {\n        onFocus.call(undefined, event);\n      }\n    };\n\n    _this.handleBlur = function (event) {\n      _this.isActive = false;\n\n      if (!_this.calendarViewList) {\n        return;\n      }\n\n      _this.calendarViewList.blurActiveDate();\n\n      var onBlur = _this.props.onBlur;\n\n      if (onBlur) {\n        onBlur.call(undefined, event);\n      }\n    };\n\n    _this.handleTodayClick = function (event) {\n      if (!_this.todayIsInRange) {\n        return;\n      }\n\n      _this.handleDateChange.call(undefined, event, true);\n    };\n\n    _this.handlePrevButtonClick = function () {\n      _this.navigate(Action.PrevView);\n    };\n\n    _this.handleNextButtonClick = function () {\n      _this.navigate(Action.NextView);\n    };\n\n    _this.handleKeyDown = function (event) {\n      var keyCode = event.keyCode;\n\n      if (keyCode === Keys.enter) {\n        var args = {\n          syntheticEvent: event,\n          nativeEvent: event.nativeEvent,\n          value: _this.focusedDate,\n          target: _this\n        };\n\n        _this.handleDateChange.call(undefined, args);\n      } else {\n        var candidate = dateInRange(_this.navigation.move(_this.focusedDate, _this.navigation.action(event), _this.state.activeView, _this.service, event), _this.min, _this.max);\n\n        if (isEqualDate(_this.focusedDate, candidate)) {\n          return;\n        }\n\n        _this.calculateFocusFromValue = false;\n\n        _this.setState({\n          focusedDate: candidate\n        });\n      }\n\n      event.preventDefault();\n    };\n\n    _this.handleViewChange = function (_a) {\n      var view = _a.view;\n      _this.calculateFocusFromValue = false;\n\n      _this.setState({\n        activeView: view\n      });\n    };\n\n    _this.handleDateChange = function (event) {\n      var focusedDate = cloneDate(event.value);\n\n      var canNavigateDown = _this.bus.canMoveDown(_this.state.activeView);\n\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (canNavigateDown) {\n        if (event.isTodayClick) {\n          _this.bus.moveToBottom(_this.state.activeView);\n        } else {\n          _this.bus.moveDown(_this.state.activeView, event.syntheticEvent);\n\n          _this.setState({\n            focusedDate: focusedDate\n          });\n\n          return;\n        }\n      }\n\n      _this.calculateFocusFromValue = true;\n      var value;\n\n      switch (_this.props.mode) {\n        case 'single':\n          value = cloneDate(event.value);\n          break;\n\n        case 'multiple':\n          if (Array.isArray(_this.selectedMultiple)) {\n            var result = _this.selectedMultiple.slice();\n\n            var index_1 = -1;\n            result.forEach(function (date, idx) {\n              if (isEqualDate(date, event.value)) {\n                index_1 = idx;\n              }\n            });\n            index_1 !== -1 ? result.splice(index_1, 1) : result.push(cloneDate(event.value));\n            value = result.slice();\n          } else {\n            if (_this.selectedDate) {\n              value = [cloneDate(_this.selectedDate), cloneDate(event.value)];\n            } else {\n              value = [cloneDate(event.value)];\n            }\n          }\n\n          break;\n\n        case 'range':\n          var hasSelection = _this.selectedRange.start !== null && _this.selectedRange.end !== null && _this.activeRange === 'start';\n          value = hasSelection ? _this.clampRange(event.value) : _this.generateRange(event.value, _this.selectedRange);\n          _this.activeRangeEnd = _this.activeRange !== 'end' ? 'end' : 'start';\n          break;\n\n        default:\n          value = cloneDate(event.value);\n          break;\n      }\n\n      _this.valueDuringOnChange = value;\n\n      _this.setState({\n        value: value,\n        focusedDate: focusedDate\n      });\n\n      _this.valueDuringOnChange = value;\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        var args = {\n          syntheticEvent: event.syntheticEvent,\n          nativeEvent: event.nativeEvent,\n          value: value,\n          target: _this\n        };\n        onChange.call(undefined, args);\n      }\n\n      _this.valueDuringOnChange = undefined;\n    };\n\n    var value = props.value !== undefined ? props.value : props.defaultValue || MultiViewCalendarWithoutContext.defaultProps.defaultValue;\n    var selectedDate = extractDateFromValue(_this.min, _this.max, value);\n    var selectedMultiple = extractMultipleFromValue(_this.min, _this.max, value);\n    var selectedRange = extractRangeFromValue(value);\n    var calculatedFocus = extractFocusedDate(selectedDate, selectedMultiple, selectedRange);\n    var activeView = viewInRange(CalendarViewEnum[props.defaultActiveView], _this.bottomView, _this.topView);\n    var focusedDate = dateInRange(props.focusedDate || calculatedFocus || getToday(), _this.min, _this.max);\n    _this.state = {\n      value: value,\n      activeView: activeView,\n      focusedDate: focusedDate\n    };\n    _this.activeRangeEnd = extractActiveRange(selectedRange, selectedDate);\n    _this.bus = new BusViewService(_this.handleViewChange);\n    _this.navigation = new NavigationService(_this.bus);\n    _this.calculateFocusFromValue = false;\n    _this.lastView = activeView;\n    _this.lastViewsCount = _this.props.views || HorizontalViewList.defaultProps.views;\n    return _this;\n  }\n\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"element\", {\n    /**\n     * Gets the wrapping element of the MultiViewCalendar component.\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"value\", {\n    /**\n     * Gets the value of the MultiViewCalendar.\n     */\n    get: function () {\n      return this.valueDuringOnChange !== undefined ? this.valueDuringOnChange : this.props.value !== undefined ? this.props.value : this.state.value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"focusedDate\", {\n    /**\n     * Gets the current focused date of the MultiViewCalendar.\n     */\n    get: function () {\n      return cloneDate(this._focusedDate);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"min\", {\n    get: function () {\n      return getDate(this.props.min !== undefined ? this.props.min : MultiViewCalendarWithoutContext.defaultProps.min);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"max\", {\n    get: function () {\n      return getDate(this.props.max !== undefined ? this.props.max : MultiViewCalendarWithoutContext.defaultProps.max);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"bottomView\", {\n    get: function () {\n      return CalendarViewEnum[this.props.bottomView !== undefined ? this.props.bottomView : MultiViewCalendarWithoutContext.defaultProps.bottomView];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"topView\", {\n    get: function () {\n      return CalendarViewEnum[this.props.topView !== undefined ? this.props.topView : MultiViewCalendarWithoutContext.defaultProps.topView];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"activeRange\", {\n    get: function () {\n      return this.props.activeRangeEnd !== undefined ? this.props.activeRangeEnd : this.activeRangeEnd;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"todayIsInRange\", {\n    get: function () {\n      return isInRange(getToday(), getDate(this.min), getDate(this.max));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  MultiViewCalendarWithoutContext.prototype.componentDidMount = function () {\n    this.calculateFocusFromValue = true;\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiViewCalendarWithoutContext.prototype.componentDidUpdate = function () {\n    if (this.calendarViewList) {\n      (this.isActive ? this.calendarViewList.focusActiveDate : this.calendarViewList.blurActiveDate)();\n    }\n\n    var stateValue = extractDateFromValue(this.min, this.max, this.value);\n    this.calculateFocusFromValue = Boolean(this.selectedDate && stateValue && this.selectedDate.getTime() && stateValue.getTime());\n    this.lastView = this.state.activeView;\n    this.lastViewsCount = this.props.views || HorizontalViewList.defaultProps.views;\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiViewCalendarWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    if (this.props._ref) {\n      this.props._ref(this);\n    }\n\n    this.intl = provideIntlService(this);\n    this.localization = provideLocalizationService(this);\n    this.bus.configure(this.bottomView, this.topView);\n    var activeView = viewInRange(this.state.activeView, this.bottomView, this.topView);\n    this.service = this.bus.service(activeView, this.intl);\n    this.selectedDate = extractDateFromValue(this.min, this.max, this.value);\n    this.selectedMultiple = extractMultipleFromValue(this.min, this.max, this.value);\n    this.selectedRange = extractRangeFromValue(this.value);\n    var calculatedFocus = extractFocusedDate(this.selectedDate, this.selectedMultiple, this.selectedRange);\n    this._focusedDate = dateInRange(this.calculateFocusFromValue && calculatedFocus !== null ? calculatedFocus : this.state.focusedDate, this.min, this.max);\n    var wrapperClassName = classNames('k-widget k-calendar k-calendar-range', {\n      'k-state-disabled': this.props.disabled\n    }, this.props.className);\n    var visualizedRange = this.rangeWithFocused(this.selectedRange, this.focusedDate);\n    var wrapperAria = {\n      'aria-disabled': this.props.disabled,\n      'aria-activedescendant': this.cellUID + this.focusedDate.getTime()\n    };\n    var prevViewTitle = this.localization.toLanguageString(prevView, messages[prevView]);\n    var nextViewTittle = this.localization.toLanguageString(nextView, messages[nextView]);\n    var isPrevDisabled = !this.canNavigate(Action.PrevView);\n    var isNextDisabled = !this.canNavigate(Action.NextView);\n    var prevBtnAria = {\n      'aria-disabled': isPrevDisabled\n    };\n    var nextBtnAria = {\n      'aria-disabled': isNextDisabled\n    };\n    var didViewChange = this.lastView !== activeView;\n    var isDateInList = this.dates && this.service.isInArray(this.focusedDate, this.dates);\n    var didViewsCountChange = this.lastViewsCount !== this.props.views;\n\n    if (!isDateInList || didViewChange || didViewsCountChange) {\n      this.dates = this.service.datesList(this.focusedDate, this.props.views || HorizontalViewList.defaultProps.views);\n    }\n\n    var activeDate = cloneDate(this.dates && this.dates[0] ? this.dates[0] : getToday());\n    return React.createElement(\"div\", __assign({\n      ref: function (el) {\n        _this._element = el;\n      },\n      className: wrapperClassName,\n      id: this.props.id || this.wrapperID,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      role: 'grid',\n      tabIndex: !this.props.disabled ? this.props.tabIndex : undefined,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onMouseDown: this.handleMouseDown,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown\n    }, wrapperAria), React.createElement(Header, {\n      key: \".kendo.calendar.header.\" + activeDate.getTime(),\n      activeView: activeView,\n      currentDate: activeDate,\n      min: this.min,\n      max: this.max,\n      rangeLength: this.props.views,\n      bus: this.bus,\n      service: this.service,\n      headerTitle: this.props.headerTitle,\n      commands: React.createElement(React.Fragment, null, React.createElement(Button, __assign({\n        type: \"button\",\n        className: \"k-nav-prev\",\n        icon: \"arrow-chevron-left\",\n        fillMode: \"flat\",\n        title: prevViewTitle,\n        disabled: isPrevDisabled,\n        onClick: this.handlePrevButtonClick\n      }, prevBtnAria)), React.createElement(TodayCommand, {\n        min: this.min,\n        max: this.max,\n        onClick: this.handleTodayClick,\n        disabled: !this.todayIsInRange\n      }), React.createElement(Button, __assign({\n        type: \"button\",\n        className: \"k-nav-next\",\n        icon: \"arrow-chevron-right\",\n        fillMode: \"flat\",\n        title: nextViewTittle,\n        disabled: isNextDisabled,\n        onClick: this.handleNextButtonClick\n      }, nextBtnAria)))\n    }), React.createElement(HorizontalViewList, {\n      ref: function (el) {\n        _this.calendarViewList = el;\n      },\n      dates: this.dates,\n      activeView: activeView,\n      focusedDate: this.focusedDate,\n      min: this.min,\n      max: this.max,\n      bus: this.bus,\n      service: this.service,\n      selectionRange: visualizedRange,\n      value: this.selectedMultiple || this.selectedDate,\n      cellUID: this.cellUID,\n      views: this.props.views,\n      onChange: this.handleDateChange,\n      showWeekNumbers: this.props.weekNumber,\n      onCellEnter: this.handleCellEnter,\n      cell: this.props.cell,\n      weekCell: this.props.weekCell,\n      headerTitle: this.props.headerTitle\n    }));\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiViewCalendarWithoutContext.displayName = 'MultiViewCalendar';\n  /**\n   * @hidden\n   */\n\n  MultiViewCalendarWithoutContext.propTypes = {\n    activeRangeEnd: PropTypes.oneOf(['start', 'end']),\n    allowReverse: PropTypes.bool,\n    bottomView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n    className: PropTypes.string,\n    defaultActiveView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n    defaultValue: PropTypes.oneOfType([nullable(PropTypes.instanceOf(Date)), PropTypes.arrayOf(PropTypes.instanceOf(Date)), PropTypes.shape({\n      start: nullable(PropTypes.instanceOf(Date)),\n      end: nullable(PropTypes.instanceOf(Date))\n    })]),\n    disabled: PropTypes.bool,\n    focusedDate: PropTypes.instanceOf(Date),\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    max: PropTypes.instanceOf(Date),\n    min: PropTypes.instanceOf(Date),\n    mode: PropTypes.oneOf(['single', 'multiple', 'range']),\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    tabIndex: PropTypes.number,\n    topView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n    value: PropTypes.oneOfType([nullable(PropTypes.instanceOf(Date)), PropTypes.arrayOf(PropTypes.instanceOf(Date)), PropTypes.shape({\n      start: nullable(PropTypes.instanceOf(Date).isRequired),\n      end: nullable(PropTypes.instanceOf(Date).isRequired)\n    })]),\n    views: function (props, propName, componentName) {\n      var views = props[propName];\n\n      if (views !== undefined && views < 1) {\n        return new Error(\"Invalid prop '\" + propName + \"' supplied to\" + (\"'\" + componentName + \"'. The '\" + propName + \"' property cannot be less than 1'\"));\n      }\n\n      return null;\n    },\n    weekNumber: PropTypes.bool\n  };\n  /**\n   * @hidden\n   */\n\n  MultiViewCalendarWithoutContext.defaultProps = {\n    disabled: false,\n    min: MIN_DATE,\n    max: MAX_DATE,\n    navigation: true,\n    defaultActiveView: 'month',\n    defaultValue: null,\n    topView: 'century',\n    tabIndex: 0,\n    bottomView: 'month',\n    views: 2,\n    allowReverse: false\n  };\n  return MultiViewCalendarWithoutContext;\n}(React.Component);\n\nexport { MultiViewCalendarWithoutContext };\n/**\n * Represents the PropsContext of the `MultiViewCalendar` component.\n * Used for global configuration of all `MultiViewCalendar` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\n\nexport var MultiViewCalendarPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the KendoReact MultiViewCalendar Component.\n *\n * Accepts properties of type [MultiViewCalendarProps]({% slug api_dateinputs_multiviewcalendarprops %}).\n * Obtaining the `ref` returns an object of type [MultiViewCalendarHandle]({% slug api_dateinputs_multiviewcalendarhandle %}).\n */\n\nexport var MultiViewCalendar = withPropsContext(MultiViewCalendarPropsContext, MultiViewCalendarWithoutContext);\nMultiViewCalendar.displayName = 'KendoReactMultiViewCalendar';\nregisterForIntl(MultiViewCalendarWithoutContext);\nregisterForLocalization(MultiViewCalendarWithoutContext);","map":{"version":3,"sources":["C:/Users/Admin/LeadManagement/frontend/node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/components/MultiViewCalendar.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","registerForIntl","provideIntlService","registerForLocalization","provideLocalizationService","classNames","guid","Keys","createPropsContext","withPropsContext","cloneDate","isEqualDate","getDate","Button","Action","CalendarViewEnum","EMPTY_SELECTIONRANGE","Header","MIN_DATE","MAX_DATE","messages","prevView","nextView","BusViewService","NavigationService","dateInRange","isInRange","viewInRange","getToday","nullable","HorizontalViewList","TodayCommand","extractDateFromValue","min","max","value","MultiViewCalendarWithoutContext","defaultProps","Date","isArray","extractMultipleFromValue","filter","date","map","extractRangeFromValue","extractFocusedDate","single","multiple","range","start","extractActiveRange","end","_super","props","_this","selectedDate","selectedMultiple","selectedRange","cellUID","activeRangeEnd","wrapperID","isActive","calculateFocusFromValue","focus","_element","clampRange","rangeWithFocused","focusedDate","generateRange","candidate","shouldSwap","getTime","allowReverse","activeRange","canNavigate","action","service","move","isInSameView","isListInRange","list","Math","views","navigate","setState","clampDate","shouldAutoCorrect","handleCellEnter","mode","handleMouseDown","event","preventDefault","handleClick","_","preventScroll","handleFocus","calendarViewList","focusActiveDate","onFocus","undefined","handleBlur","blurActiveDate","onBlur","handleTodayClick","todayIsInRange","handleDateChange","handlePrevButtonClick","PrevView","handleNextButtonClick","NextView","handleKeyDown","keyCode","enter","args","syntheticEvent","nativeEvent","target","navigation","state","activeView","handleViewChange","_a","view","canNavigateDown","bus","canMoveDown","disabled","isTodayClick","moveToBottom","moveDown","result","slice","index_1","forEach","idx","splice","push","hasSelection","valueDuringOnChange","onChange","defaultValue","calculatedFocus","defaultActiveView","bottomView","topView","lastView","lastViewsCount","defineProperty","get","enumerable","configurable","_focusedDate","componentDidMount","componentDidUpdate","stateValue","Boolean","render","_ref","intl","localization","configure","wrapperClassName","className","visualizedRange","wrapperAria","prevViewTitle","toLanguageString","nextViewTittle","isPrevDisabled","isNextDisabled","prevBtnAria","nextBtnAria","didViewChange","isDateInList","dates","isInArray","didViewsCountChange","datesList","activeDate","createElement","ref","el","id","ariaLabelledBy","ariaDescribedBy","role","tabIndex","onMouseDown","onClick","onKeyDown","key","currentDate","rangeLength","headerTitle","commands","Fragment","type","icon","fillMode","title","selectionRange","showWeekNumbers","weekNumber","onCellEnter","cell","weekCell","displayName","propTypes","oneOf","bool","string","oneOfType","instanceOf","arrayOf","shape","func","number","isRequired","propName","componentName","Error","Component","MultiViewCalendarPropsContext","MultiViewCalendar"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { registerForIntl, provideIntlService, registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { classNames, guid, Keys, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { cloneDate, isEqualDate, getDate } from '@progress/kendo-date-math';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { Action, CalendarViewEnum, EMPTY_SELECTIONRANGE } from '../models';\nimport { Header } from './Header';\nimport { MIN_DATE, MAX_DATE } from '../../defaults';\nimport { messages, prevView, nextView } from '../../messages';\nimport { BusViewService, NavigationService } from '../services';\nimport { dateInRange, isInRange, viewInRange, getToday, nullable } from '../../utils';\nimport { HorizontalViewList } from './HorizontalViewList';\nimport { TodayCommand } from './TodayCommand';\nvar extractDateFromValue = function (min, max, value) {\n    if (min === void 0) { min = MultiViewCalendarWithoutContext.defaultProps.min; }\n    if (max === void 0) { max = MultiViewCalendarWithoutContext.defaultProps.max; }\n    return value instanceof Date && !Array.isArray(value) && isInRange(getDate(value), min, max)\n        ? getDate(value)\n        : null;\n};\nvar extractMultipleFromValue = function (min, max, value) {\n    if (min === void 0) { min = MultiViewCalendarWithoutContext.defaultProps.min; }\n    if (max === void 0) { max = MultiViewCalendarWithoutContext.defaultProps.max; }\n    return Array.isArray(value)\n        ? value.filter(function (date) { return isInRange(date, min, max); }).map(function (date) { return getDate(date); })\n        : null;\n};\nvar extractRangeFromValue = function (value) {\n    return typeof value === 'object' && !(value instanceof Date) && value !== null && !Array.isArray(value)\n        ? value\n        : EMPTY_SELECTIONRANGE;\n};\nvar extractFocusedDate = function (single, multiple, range) {\n    return single || (multiple && multiple[0]) || (range && range.start);\n};\nvar extractActiveRange = function (range, single) {\n    return range.start === null && single === null\n        ? 'start'\n        : range.end === null\n            ? 'end'\n            : 'start';\n};\n/** @hidden */\nvar MultiViewCalendarWithoutContext = /** @class */ (function (_super) {\n    __extends(MultiViewCalendarWithoutContext, _super);\n    function MultiViewCalendarWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        _this.selectedDate = null;\n        _this.selectedMultiple = null;\n        _this.selectedRange = EMPTY_SELECTIONRANGE;\n        _this.cellUID = guid();\n        _this.activeRangeEnd = 'start';\n        _this.wrapperID = guid();\n        _this.isActive = false;\n        _this.calculateFocusFromValue = true;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._element) {\n                _this._element.focus();\n            }\n        };\n        _this.clampRange = function (value) { return ({ start: value, end: null }); };\n        _this.rangeWithFocused = function (range, focusedDate) {\n            return {\n                start: range.start,\n                end: range.end === null && range.start !== null && _this.isActive ? focusedDate : range.end\n            };\n        };\n        _this.generateRange = function (candidate, value) {\n            var end = value.end, start = value.start;\n            var shouldSwap = value.start !== null && candidate.getTime() <= value.start.getTime();\n            if (!_this.props.allowReverse && shouldSwap) {\n                return { start: candidate, end: _this.selectedRange.start };\n            }\n            return _this.activeRange !== 'end'\n                ? ({ start: candidate, end: end })\n                : ({ start: start || _this.selectedDate, end: candidate });\n        };\n        _this.canNavigate = function (action) {\n            if (!_this.service) {\n                return false;\n            }\n            var candidate = _this.service.move(_this.focusedDate, action);\n            return (_this.min <= candidate && candidate <= _this.max)\n                || _this.service.isInSameView(candidate, _this.min)\n                || _this.service.isInSameView(candidate, _this.max);\n        };\n        _this.isListInRange = function (list) {\n            return _this.min < list[0]\n                && _this.max > list[Math.max(0, (_this.props.views || MultiViewCalendarWithoutContext.defaultProps.views) - 1)];\n        };\n        _this.navigate = function (action) {\n            _this.calculateFocusFromValue = false;\n            var candidate = _this.move(action);\n            _this.setState({ focusedDate: candidate });\n        };\n        _this.move = function (action) {\n            return _this.clampDate(_this.service.move(_this.focusedDate, action));\n        };\n        _this.clampDate = function (value) {\n            return dateInRange(value, _this.min, _this.max);\n        };\n        _this.shouldAutoCorrect = function (candidate, value) {\n            var end = value.end, start = value.start;\n            if (_this.activeRange !== 'end') {\n                return end !== null && candidate > end;\n            }\n            else {\n                return start !== null && candidate < start;\n            }\n        };\n        _this.handleCellEnter = function (value) {\n            if (_this.props.mode === 'range') {\n                _this.calculateFocusFromValue = false;\n                _this.setState({\n                    focusedDate: value\n                });\n            }\n        };\n        _this.handleMouseDown = function (event) {\n            event.preventDefault();\n        };\n        _this.handleClick = function (_) {\n            if (!_this._element) {\n                return;\n            }\n            _this._element.focus({ preventScroll: true });\n        };\n        _this.handleFocus = function (event) {\n            _this.isActive = true;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.focusActiveDate();\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            _this.isActive = false;\n            if (!_this.calendarViewList) {\n                return;\n            }\n            _this.calendarViewList.blurActiveDate();\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleTodayClick = function (event) {\n            if (!_this.todayIsInRange) {\n                return;\n            }\n            _this.handleDateChange.call(undefined, event, true);\n        };\n        _this.handlePrevButtonClick = function () {\n            _this.navigate(Action.PrevView);\n        };\n        _this.handleNextButtonClick = function () {\n            _this.navigate(Action.NextView);\n        };\n        _this.handleKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.enter) {\n                var args = {\n                    syntheticEvent: event,\n                    nativeEvent: event.nativeEvent,\n                    value: _this.focusedDate,\n                    target: _this\n                };\n                _this.handleDateChange.call(undefined, args);\n            }\n            else {\n                var candidate = dateInRange(_this.navigation.move(_this.focusedDate, _this.navigation.action(event), _this.state.activeView, _this.service, event), _this.min, _this.max);\n                if (isEqualDate(_this.focusedDate, candidate)) {\n                    return;\n                }\n                _this.calculateFocusFromValue = false;\n                _this.setState({ focusedDate: candidate });\n            }\n            event.preventDefault();\n        };\n        _this.handleViewChange = function (_a) {\n            var view = _a.view;\n            _this.calculateFocusFromValue = false;\n            _this.setState({ activeView: view });\n        };\n        _this.handleDateChange = function (event) {\n            var focusedDate = cloneDate(event.value);\n            var canNavigateDown = _this.bus.canMoveDown(_this.state.activeView);\n            if (_this.props.disabled) {\n                return;\n            }\n            if (canNavigateDown) {\n                if (event.isTodayClick) {\n                    _this.bus.moveToBottom(_this.state.activeView);\n                }\n                else {\n                    _this.bus.moveDown(_this.state.activeView, event.syntheticEvent);\n                    _this.setState({ focusedDate: focusedDate });\n                    return;\n                }\n            }\n            _this.calculateFocusFromValue = true;\n            var value;\n            switch (_this.props.mode) {\n                case 'single':\n                    value = cloneDate(event.value);\n                    break;\n                case 'multiple':\n                    if (Array.isArray(_this.selectedMultiple)) {\n                        var result = _this.selectedMultiple.slice();\n                        var index_1 = -1;\n                        result.forEach(function (date, idx) {\n                            if (isEqualDate(date, event.value)) {\n                                index_1 = idx;\n                            }\n                        });\n                        index_1 !== -1\n                            ? result.splice(index_1, 1)\n                            : result.push(cloneDate(event.value));\n                        value = result.slice();\n                    }\n                    else {\n                        if (_this.selectedDate) {\n                            value = [cloneDate(_this.selectedDate), cloneDate(event.value)];\n                        }\n                        else {\n                            value = [cloneDate(event.value)];\n                        }\n                    }\n                    break;\n                case 'range':\n                    var hasSelection = _this.selectedRange.start !== null\n                        && _this.selectedRange.end !== null\n                        && _this.activeRange === 'start';\n                    value = hasSelection\n                        ? _this.clampRange(event.value)\n                        : _this.generateRange(event.value, _this.selectedRange);\n                    _this.activeRangeEnd = _this.activeRange !== 'end' ? 'end' : 'start';\n                    break;\n                default:\n                    value = cloneDate(event.value);\n                    break;\n            }\n            _this.valueDuringOnChange = value;\n            _this.setState({ value: value, focusedDate: focusedDate });\n            _this.valueDuringOnChange = value;\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    syntheticEvent: event.syntheticEvent,\n                    nativeEvent: event.nativeEvent,\n                    value: value,\n                    target: _this\n                };\n                onChange.call(undefined, args);\n            }\n            _this.valueDuringOnChange = undefined;\n        };\n        var value = props.value !== undefined\n            ? props.value\n            : props.defaultValue || MultiViewCalendarWithoutContext.defaultProps.defaultValue;\n        var selectedDate = extractDateFromValue(_this.min, _this.max, value);\n        var selectedMultiple = extractMultipleFromValue(_this.min, _this.max, value);\n        var selectedRange = extractRangeFromValue(value);\n        var calculatedFocus = extractFocusedDate(selectedDate, selectedMultiple, selectedRange);\n        var activeView = viewInRange(CalendarViewEnum[props.defaultActiveView], _this.bottomView, _this.topView);\n        var focusedDate = dateInRange(props.focusedDate || calculatedFocus || getToday(), _this.min, _this.max);\n        _this.state = {\n            value: value,\n            activeView: activeView,\n            focusedDate: focusedDate\n        };\n        _this.activeRangeEnd = extractActiveRange(selectedRange, selectedDate);\n        _this.bus = new BusViewService(_this.handleViewChange);\n        _this.navigation = new NavigationService(_this.bus);\n        _this.calculateFocusFromValue = false;\n        _this.lastView = activeView;\n        _this.lastViewsCount = _this.props.views || HorizontalViewList.defaultProps.views;\n        return _this;\n    }\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"element\", {\n        /**\n         * Gets the wrapping element of the MultiViewCalendar component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"value\", {\n        /**\n         * Gets the value of the MultiViewCalendar.\n         */\n        get: function () {\n            return this.valueDuringOnChange !== undefined\n                ? this.valueDuringOnChange\n                : this.props.value !== undefined\n                    ? this.props.value\n                    : this.state.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"focusedDate\", {\n        /**\n         * Gets the current focused date of the MultiViewCalendar.\n         */\n        get: function () {\n            return cloneDate(this._focusedDate);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"min\", {\n        get: function () {\n            return getDate(this.props.min !== undefined\n                ? this.props.min\n                : MultiViewCalendarWithoutContext.defaultProps.min);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"max\", {\n        get: function () {\n            return getDate(this.props.max !== undefined\n                ? this.props.max\n                : MultiViewCalendarWithoutContext.defaultProps.max);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"bottomView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.bottomView !== undefined\n                ? this.props.bottomView\n                : MultiViewCalendarWithoutContext.defaultProps.bottomView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"topView\", {\n        get: function () {\n            return CalendarViewEnum[this.props.topView !== undefined\n                ? this.props.topView\n                : MultiViewCalendarWithoutContext.defaultProps.topView];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"activeRange\", {\n        get: function () {\n            return this.props.activeRangeEnd !== undefined\n                ? this.props.activeRangeEnd\n                : this.activeRangeEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiViewCalendarWithoutContext.prototype, \"todayIsInRange\", {\n        get: function () {\n            return isInRange(getToday(), getDate(this.min), getDate(this.max));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.prototype.componentDidMount = function () {\n        this.calculateFocusFromValue = true;\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.prototype.componentDidUpdate = function () {\n        if (this.calendarViewList) {\n            (this.isActive ? this.calendarViewList.focusActiveDate : this.calendarViewList.blurActiveDate)();\n        }\n        var stateValue = extractDateFromValue(this.min, this.max, this.value);\n        this.calculateFocusFromValue = Boolean(this.selectedDate\n            && stateValue\n            && (this.selectedDate.getTime() && stateValue.getTime()));\n        this.lastView = this.state.activeView;\n        this.lastViewsCount = this.props.views || HorizontalViewList.defaultProps.views;\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.prototype.render = function () {\n        var _this = this;\n        if (this.props._ref) {\n            this.props._ref(this);\n        }\n        this.intl = provideIntlService(this);\n        this.localization = provideLocalizationService(this);\n        this.bus.configure(this.bottomView, this.topView);\n        var activeView = viewInRange(this.state.activeView, this.bottomView, this.topView);\n        this.service = this.bus.service(activeView, this.intl);\n        this.selectedDate = extractDateFromValue(this.min, this.max, this.value);\n        this.selectedMultiple = extractMultipleFromValue(this.min, this.max, this.value);\n        this.selectedRange = extractRangeFromValue(this.value);\n        var calculatedFocus = extractFocusedDate(this.selectedDate, this.selectedMultiple, this.selectedRange);\n        this._focusedDate = dateInRange(this.calculateFocusFromValue && calculatedFocus !== null\n            ? calculatedFocus\n            : this.state.focusedDate, this.min, this.max);\n        var wrapperClassName = classNames('k-widget k-calendar k-calendar-range', {\n            'k-state-disabled': this.props.disabled\n        }, this.props.className);\n        var visualizedRange = this.rangeWithFocused(this.selectedRange, this.focusedDate);\n        var wrapperAria = {\n            'aria-disabled': this.props.disabled,\n            'aria-activedescendant': this.cellUID + this.focusedDate.getTime()\n        };\n        var prevViewTitle = this.localization.toLanguageString(prevView, messages[prevView]);\n        var nextViewTittle = this.localization.toLanguageString(nextView, messages[nextView]);\n        var isPrevDisabled = !this.canNavigate(Action.PrevView);\n        var isNextDisabled = !this.canNavigate(Action.NextView);\n        var prevBtnAria = { 'aria-disabled': isPrevDisabled };\n        var nextBtnAria = { 'aria-disabled': isNextDisabled };\n        var didViewChange = this.lastView !== activeView;\n        var isDateInList = this.dates && this.service.isInArray(this.focusedDate, this.dates);\n        var didViewsCountChange = this.lastViewsCount !== this.props.views;\n        if (!isDateInList || didViewChange || didViewsCountChange) {\n            this.dates = this.service.datesList(this.focusedDate, this.props.views || HorizontalViewList.defaultProps.views);\n        }\n        var activeDate = cloneDate(this.dates && this.dates[0] ? this.dates[0] : getToday());\n        return (React.createElement(\"div\", __assign({ ref: function (el) { _this._element = el; }, className: wrapperClassName, id: this.props.id || this.wrapperID, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, role: 'grid', tabIndex: !this.props.disabled ? this.props.tabIndex : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur, onMouseDown: this.handleMouseDown, onClick: this.handleClick, onKeyDown: this.handleKeyDown }, wrapperAria),\n            React.createElement(Header, { key: \".kendo.calendar.header.\" + activeDate.getTime(), activeView: activeView, currentDate: activeDate, min: this.min, max: this.max, rangeLength: this.props.views, bus: this.bus, service: this.service, headerTitle: this.props.headerTitle, commands: (React.createElement(React.Fragment, null,\n                    React.createElement(Button, __assign({ type: \"button\", className: \"k-nav-prev\", icon: \"arrow-chevron-left\", fillMode: \"flat\", title: prevViewTitle, disabled: isPrevDisabled, onClick: this.handlePrevButtonClick }, prevBtnAria)),\n                    React.createElement(TodayCommand, { min: this.min, max: this.max, onClick: this.handleTodayClick, disabled: !this.todayIsInRange }),\n                    React.createElement(Button, __assign({ type: \"button\", className: \"k-nav-next\", icon: \"arrow-chevron-right\", fillMode: \"flat\", title: nextViewTittle, disabled: isNextDisabled, onClick: this.handleNextButtonClick }, nextBtnAria)))) }),\n            React.createElement(HorizontalViewList, { ref: function (el) { _this.calendarViewList = el; }, dates: this.dates, activeView: activeView, focusedDate: this.focusedDate, min: this.min, max: this.max, bus: this.bus, service: this.service, selectionRange: visualizedRange, value: this.selectedMultiple || this.selectedDate, cellUID: this.cellUID, views: this.props.views, onChange: this.handleDateChange, showWeekNumbers: this.props.weekNumber, onCellEnter: this.handleCellEnter, cell: this.props.cell, weekCell: this.props.weekCell, headerTitle: this.props.headerTitle })));\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.displayName = 'MultiViewCalendar';\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.propTypes = {\n        activeRangeEnd: PropTypes.oneOf(['start', 'end']),\n        allowReverse: PropTypes.bool,\n        bottomView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        className: PropTypes.string,\n        defaultActiveView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        defaultValue: PropTypes.oneOfType([\n            nullable(PropTypes.instanceOf(Date)),\n            PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n            PropTypes.shape({\n                start: nullable(PropTypes.instanceOf(Date)),\n                end: nullable(PropTypes.instanceOf(Date))\n            })\n        ]),\n        disabled: PropTypes.bool,\n        focusedDate: PropTypes.instanceOf(Date),\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        mode: PropTypes.oneOf(['single', 'multiple', 'range']),\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        tabIndex: PropTypes.number,\n        topView: PropTypes.oneOf(['month', 'year', 'decade', 'century']),\n        value: PropTypes.oneOfType([\n            nullable(PropTypes.instanceOf(Date)),\n            PropTypes.arrayOf(PropTypes.instanceOf(Date)),\n            PropTypes.shape({\n                start: nullable(PropTypes.instanceOf(Date).isRequired),\n                end: nullable(PropTypes.instanceOf(Date).isRequired)\n            })\n        ]),\n        views: function (props, propName, componentName) {\n            var views = props[propName];\n            if (views !== undefined && views < 1) {\n                return new Error(\"Invalid prop '\" + propName + \"' supplied to\" +\n                    (\"'\" + componentName + \"'. The '\" + propName + \"' property cannot be less than 1'\"));\n            }\n            return null;\n        },\n        weekNumber: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    MultiViewCalendarWithoutContext.defaultProps = {\n        disabled: false,\n        min: MIN_DATE,\n        max: MAX_DATE,\n        navigation: true,\n        defaultActiveView: 'month',\n        defaultValue: null,\n        topView: 'century',\n        tabIndex: 0,\n        bottomView: 'month',\n        views: 2,\n        allowReverse: false\n    };\n    return MultiViewCalendarWithoutContext;\n}(React.Component));\nexport { MultiViewCalendarWithoutContext };\n/**\n * Represents the PropsContext of the `MultiViewCalendar` component.\n * Used for global configuration of all `MultiViewCalendar` instances.\n *\n * For more information, refer to the [DateInputs Props Context]({% slug props-context_dateinputs %}) article.\n */\nexport var MultiViewCalendarPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the KendoReact MultiViewCalendar Component.\n *\n * Accepts properties of type [MultiViewCalendarProps]({% slug api_dateinputs_multiviewcalendarprops %}).\n * Obtaining the `ref` returns an object of type [MultiViewCalendarHandle]({% slug api_dateinputs_multiviewcalendarhandle %}).\n */\nexport var MultiViewCalendar = withPropsContext(MultiViewCalendarPropsContext, MultiViewCalendarWithoutContext);\nMultiViewCalendar.displayName = 'KendoReactMultiViewCalendar';\nregisterForIntl(MultiViewCalendarWithoutContext);\nregisterForLocalization(MultiViewCalendarWithoutContext);\n"]},"metadata":{},"sourceType":"module"}